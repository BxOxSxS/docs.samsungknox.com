<!DOCTYPE html>
<html lang="en">





  





  
  
<head>
  <meta charset="utf-8">
  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CV8C3DHP6P"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-CV8C3DHP6P');
  </script>
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-54474000-1', 'auto'); 
    ga('send', 'pageview');
  </script>
  
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-P24TWCG');</script><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Manage certificates  | Knox SDK  | Samsung Knox Documentation</title>
  <meta http-equiv="content-language" content="en">
  <meta name="language" content="en">
  <script src="../../../../assets/js/bundle.js"></script>
  <link rel="stylesheet" href="../../../../styles/main.min.css">
  <link rel="icon" href="../../../../favicon.ico" type="image/x-icon">
  <link rel="icon" sizes="16x16" href="../../../../favicon-16x16.png" type="image/png">
  <link rel="icon" sizes="32x32" href="../../../../favicon-32x32.png" type="image/png">
  <link rel="manifest" href="../../../../manifest.json">
  <link rel="apple-touch-icon" sizes="180x180" href="../../../../apple-touch-icon.png">
  <link rel="mask-icon" href="../../../../safari-pinned-tab.svg" color="#5bbad5">
  <meta name="theme-color" content="white">
</head>
<body id=ZgotmplZ>
  
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24TWCG" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><a id="back-to-top-button" class="button-back-to-top">Back to top</a>
  
    <header>
  <div class="container-xxl border-bottom">
    <nav class="nav-top navbar navbar-expand-lg d-flex px-3">
        <a class="navbar-brand" href="../../../../index.html">
          <img src="../../../../svg/samsung_knox_doc_logo.svg" alt="Logo for Samsung Knox documentation">
        </a>
        <div class="collapse navbar-collapse">
          <ul class="row align-items-center ms-10 mb-0 p-0">
            
            
            <li class="navbar-nav col">
              <a href="../../../../../admin/index.html" class="body-4 text-black fw-light pe-auto me-6 text-decoration-none ">Admin</a>
            </li>
            
            <li class="navbar-nav col">
              <a href="../../../../index.html" class="body-4 text-black fw-light pe-auto me-6 text-decoration-none fw-bold border-bottom border-2 border-black">Developer</a>
            </li>
            
            <li class="navbar-nav col">
              <a href="../../../../../partner/index.html" class="body-4 text-black fw-light pe-auto me-3 text-decoration-none ">Partner</a>
            </li>
            
          </ul>
        </div>
        <div class="ms-auto">
          <div class="collapse navbar-collapse">
            <div class="head-search-wrapper ms-auto ">
              <script async src="https://cse.google.com/cse.js?cx=9119a64f9020430ac"></script>
<div class="gcse-search"></div>

            </div>
          </div>
        </div>
    </nav>
  </div>
</header>

  
  <main>
    
      <div class="container-xxl l-layout">
        <div class="l-sidebar pt-md-6">
          
<aside class="ps-2 pe-4">
  <div class="d-inline-block w-100 position-relative">
  <button id="guide-navigation-button" type="button" data-bs-toggle="collapse" data-bs-target="#guide-navigation" aria-controls="#guide-navigation" aria-expanded="false" class="dropdown-button border border-2">Samsung Knox developer guides</button>
  <div id="guide-navigation" class="collapse w-100 position-absolute dropdown">
    <nav aria-labelledby="guide-navigation-button" class="dropdown-content">
      <ul>
      <li>
  <a href="../../../../fundamentals.html" >Fundamentals</a>
  </li>
<li>
  <span>Device apps</span>
  <ul>
    <li>
  <a href="../../../../knox-sdk.html" class="active-drop-item">Knox SDK</a>
  <ul>
    </ul>
  </li>
<li>
  <a href="../../../../knox-pos-sdk.html" >Knox POS SDK</a>
  </li>
<li>
  <a href="../../../../knox-capture-sdk.html" >Knox Capture SDK</a>
  </li>
<li>
  <a href="../../../../knox-tizen-sdk.html" >Knox Tizen SDK</a>
  </li>
</ul>
  </li>
<li>
  <span>Web services</span>
  <ul>
    <li>
  <a href="../../../../knox-cloud-authentication.html" >Knox cloud services authentication</a>
  <ul>
    </ul>
  </li>
<li>
  <a href="../../../../knox-webhook-notification.html" >Knox Webhook Notification</a>
  <ul>
    </ul>
  </li>
<li>
  <a href="../../../../knox-deployment-program.html" >Knox Deployment Program</a>
  </li>
<li>
  <a href="../../../../knox-msp-portal.html" >Knox MSP Portal</a>
  </li>
<li>
  <a href="../../../../knox-mobile-enrollment.html" >Knox Mobile Enrollment</a>
  </li>
<li>
  <a href="../../../../knox-efota.html" >Knox E-FOTA</a>
  </li>
<li>
  <a href="../../../../knox-configure.html" >Knox Configure</a>
  </li>
<li>
  <a href="../../../../knox-manage.html" >Knox Manage</a>
  </li>
<li>
  <a href="../../../../knox-attestation.html" >Knox Attestation</a>
  </li>
<li>
  <a href="../../../../knox-guard.html" >Knox Guard</a>
  </li>
<li>
  <a href="../../../../knox-asset-intelligence.html" >Knox Asset Intelligence</a>
  </li>
</ul>
  </li>
<li>
  <a href="../../../../managed-configurations.html" >Managed configurations</a>
  </li>
</ul>
    </nav>
  </div>
</div><h3 class="body-3 mt-4 ps-2">Knox SDK</h3>
  <nav class="side-nav">
    <ul class="ps-2">
      
      
      <li>
        <div>
          <a class="body-5 text-black fw-light" href="../../../../knox-sdk.html">Introduction</a>
        </div>
      </li>
        
          
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../about-the-knox-sdk.html">About the SDK</a>
    </div>
    
    </li>
  
        
          
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-get-started-get-started" aria-expanded="false">
      <span class="body-5 text-black fw-light">Get started</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-get-started-get-started" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-get-started-get-started">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../get-started/set-up-your-android-environment.html">Set up your Android environment</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../get-started/install-the-sdk.html">Install the SDK</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../get-started/get-a-license/index.html">Get a license</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../get-started/activate-your-knox-license/index.html">Activate your Knox license</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../get-started/declare-permissions.html">Declare permissions</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-get-started-migrate-app-from-knox-2x-to-3x-migrate-app-from-knox-2x-to-3x" aria-expanded="false">
      <span class="body-5 text-black fw-light">Migrate app from Knox 2.x to 3.x</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-get-started-migrate-app-from-knox-2x-to-3x-migrate-app-from-knox-2x-to-3x" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-get-started-migrate-app-from-knox-2x-to-3x-migrate-app-from-knox-2x-to-3x">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../get-started/migrate-app-from-knox-2x-to-3x/knox-sdk-migration-introduction.html">Introduction</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../get-started/migrate-app-from-knox-2x-to-3x/get-started/index.html">Get started</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../get-started/migrate-app-from-knox-2x-to-3x/update-your-app.html">Update your app</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../get-started/migrate-app-from-knox-2x-to-3x/support-old-devices/index.html">Support old devices</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-get-started-migrate-app-from-knox-2x-to-3x-namespace-changes-for-3x-namespace-changes-for-3x" aria-expanded="false">
      <span class="body-5 text-black fw-light">Namespace changes for 3.x</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-get-started-migrate-app-from-knox-2x-to-3x-namespace-changes-for-3x-namespace-changes-for-3x" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-get-started-migrate-app-from-knox-2x-to-3x-namespace-changes-for-3x-namespace-changes-for-3x">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../get-started/migrate-app-from-knox-2x-to-3x/namespace-changes-for-3x/new-package-names.html">New package names</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../get-started/migrate-app-from-knox-2x-to-3x/namespace-changes-for-3x/new-intent-names/index.html">New intent names</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../get-started/migrate-app-from-knox-2x-to-3x/namespace-changes-for-3x/new-permissions-names.html">New permissions names</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  </ul>
    </div></li>
  </ul>
    </div></li>
  
        
          
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-sample-app-tutorials-sample-app-tutorials" aria-expanded="false">
      <span class="body-5 text-black fw-light">Sample app tutorials</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-sample-app-tutorials-sample-app-tutorials" aria-expanded="true"></a>
    </div>
      
    <div class="show" id="sub-knox-sdk-sample-app-tutorials-sample-app-tutorials">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../sample-application-tutorials/index.html">Sample application tutorials</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-sample-app-tutorials-get-started-with-da-apis-get-started-with-da-apis" aria-expanded="false">
      <span class="body-5 text-black fw-light">Get started with DA APIs</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-sample-app-tutorials-get-started-with-da-apis-get-started-with-da-apis" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-sample-app-tutorials-get-started-with-da-apis-get-started-with-da-apis">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-da-apis/introduction/index.html">Introduction</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-da-apis/create-layout.html">Create layout</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-da-apis/initialize-app.html">Initialize app</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-da-apis/set-up-device-admin.html">Set up Device Admin</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-da-apis/activate-knox-license.html">Activate Knox license</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-da-apis/declare-knox-permissions.html">Declare Knox permissions</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-da-apis/toggle-the-camera-state.html">Toggle the camera state</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-da-apis/run-sample-app.html">Run sample app</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-sample-app-tutorials-get-started-with-work-profiles-get-started-with-work-profiles" aria-expanded="false">
      <span class="body-5 text-black fw-light">Get started with work profiles</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-sample-app-tutorials-get-started-with-work-profiles-get-started-with-work-profiles" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-sample-app-tutorials-get-started-with-work-profiles-get-started-with-work-profiles">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-work-profiles/introduction.html">Introduction</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-work-profiles/create-layout.html">Create layout</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-work-profiles/initialize-app.html">Initialize app</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-work-profiles/create-android-profile-owner.html">Create Android profile owner</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-work-profiles/activate-knox-license.html">Activate Knox license</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-work-profiles/calling-the-knox-sdk-apis.html">Calling the Knox SDK APIs</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../get-started-with-work-profiles/run-sample-app.html">Run sample app</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-sample-app-tutorials-set-up-kiosk-mode-set-up-kiosk-mode" aria-expanded="false">
      <span class="body-5 text-black fw-light">Set up Kiosk mode</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-sample-app-tutorials-set-up-kiosk-mode-set-up-kiosk-mode" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-sample-app-tutorials-set-up-kiosk-mode-set-up-kiosk-mode">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../set-up-kiosk-mode/introduction/index.html">Introduction</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../set-up-kiosk-mode/create-layout.html">Create layout</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../set-up-kiosk-mode/initialize-app.html">Initialize app</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../set-up-kiosk-mode/set-up-device-admin.html">Set up Device Admin</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../set-up-kiosk-mode/activate-knox-license.html">Activate Knox license</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../set-up-kiosk-mode/declare-permissions.html">Declare permissions</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../set-up-kiosk-mode/enable-kiosk-mode.html">Enable Kiosk mode</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../set-up-kiosk-mode/run-sample-app.html">Run sample app</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-sample-app-tutorials-manage-device-applications-manage-device-applications" aria-expanded="false">
      <span class="body-5 text-black fw-light">Manage device applications</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-sample-app-tutorials-manage-device-applications-manage-device-applications" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-sample-app-tutorials-manage-device-applications-manage-device-applications">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../manage-device-applications/introduction/index.html">App management introduction</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../manage-device-applications/create-layout.html">Create layout</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../manage-device-applications/initialize-the-app.html">Initialize the app</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../manage-device-applications/set-up-device-admin.html">Set up Device Admin</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../manage-device-applications/activate-knox-license.html">Activate Knox license</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../manage-device-applications/declare-permissions.html">Declare permissions</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../manage-device-applications/manage-device-applications.html">Manage device applications</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../manage-device-applications/run-sample-app.html">Run sample app</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-sample-app-tutorials-manage-certificates-in-tima-ccm-manage-certificates-in-tima-ccm" aria-expanded="false">
      <span class="body-5 text-black fw-light">Manage certificates in TIMA CCM</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-sample-app-tutorials-manage-certificates-in-tima-ccm-manage-certificates-in-tima-ccm" aria-expanded="true"></a>
    </div>
      
    <div class="show" id="sub-knox-sdk-sample-app-tutorials-manage-certificates-in-tima-ccm-manage-certificates-in-tima-ccm">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../introduction/index.html">Introduction</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../create-layout.html">Create layout</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../initialize-app.html">Initialize app</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../set-up-device-admin.html">Set up Device Admin</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../activate-knox-license.html">Activate Knox license</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../declare-permissions.html">Declare permissions</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black active" href="../manage-certificates.html">Manage certificates</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../run-sample-app.html">Run sample app</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  </ul>
    </div></li>
  
        
          
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-features" aria-expanded="false">
      <span class="body-5 text-black fw-light">Features</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-features" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-features">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-ml-developers-ml-developers" aria-expanded="false">
      <span class="body-5 text-black fw-light">ML Developers</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-ml-developers-ml-developers" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-ml-developers-ml-developers">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/ml-developers/machine-learning-neural-model-encryption.html">Machine Learning and Neural Model encryption</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-ml-developers-whitepaper-whitepaper" aria-expanded="false">
      <span class="body-5 text-black fw-light">Whitepaper</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-ml-developers-whitepaper-whitepaper" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-ml-developers-whitepaper-whitepaper">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-ml-developers-whitepaper-introduction-introduction" aria-expanded="false">
      <span class="body-5 text-black fw-light">Introduction</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-ml-developers-whitepaper-introduction-introduction" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-ml-developers-whitepaper-introduction-introduction">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/ml-developers/whitepaper/introduction/knox-ml-model-protection/index.html">Knox ML Model Protection</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/ml-developers/whitepaper/introduction/review-of-ml-attacks/index.html">Review of ML attacks</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-ml-developers-whitepaper-knox-ml-model-protection-knox-ml-model-protection" aria-expanded="false">
      <span class="body-5 text-black fw-light">Knox ML Model Protection</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-ml-developers-whitepaper-knox-ml-model-protection-knox-ml-model-protection" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-ml-developers-whitepaper-knox-ml-model-protection-knox-ml-model-protection">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/ml-developers/whitepaper/knox-ml-model-protection/securing-ml-models.html">Securing ML models</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/ml-developers/whitepaper/knox-ml-model-protection/encrypt-and-execute-model/index.html">Encrypt and execute model</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-ml-developers-whitepaper-appendix-appendix" aria-expanded="false">
      <span class="body-5 text-black fw-light">Appendix</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-ml-developers-whitepaper-appendix-appendix" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-ml-developers-whitepaper-appendix-appendix">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/ml-developers/whitepaper/appendix/about-this-white-paper/index.html">About this White Paper</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/ml-developers/knox-for-model-protection-knox-sdk-apis.html">Knox for Model Protection &mdash; Knox SDK APIs</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/ml-developers/knox-sdk-for-model-protection-deployment.html">Knox SDK for Model Protection deployment</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/ml-developers/knox-ml-encryption-tool.html">ML Encryption Tool</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/ml-developers/knox-ml-encryption-tool-revision.html">Knox ML Encryption Tool Revision</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-independent-software-vendors-da-independent-software-vendors-da" aria-expanded="false">
      <span class="body-5 text-black fw-light">Independent Software Vendors (DA)</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-independent-software-vendors-da-independent-software-vendors-da" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-independent-software-vendors-da-independent-software-vendors-da">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/independent-software-vendors-da/independent-software-vendors-da.html">Overview</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/independent-software-vendors-da/attestation.html">Attestation</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/independent-software-vendors-da/dualdar-isv-integration.html">DualDAR ISV integration</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-independent-software-vendors-da-hardware-key-mappings-hardware-key-mappings" aria-expanded="false">
      <span class="body-5 text-black fw-light">Hardware key mappings</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-independent-software-vendors-da-hardware-key-mappings-hardware-key-mappings" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-independent-software-vendors-da-hardware-key-mappings-hardware-key-mappings">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/independent-software-vendors-da/hardware-key-mappings/hardware-key-mapping.html">Overview</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/independent-software-vendors-da/hardware-key-mappings/unmanaged-key-mappings.html">Unmanaged Key Mappings</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/independent-software-vendors-da/hardware-key-mappings/managed-key-mappings.html">Managed Key Mappings</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-independent-software-vendors-da-network-platform-analytics-network-platform-analytics" aria-expanded="false">
      <span class="body-5 text-black fw-light">Network Platform Analytics</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-independent-software-vendors-da-network-platform-analytics-network-platform-analytics" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-independent-software-vendors-da-network-platform-analytics-network-platform-analytics">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/independent-software-vendors-da/network-platform-analytics/introduction.html">Introduction</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/independent-software-vendors-da/network-platform-analytics/npa-isv-integration/index.html">NPA ISV Integration</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/data/network-platform-analytics/npa-reference-and-glossary.html">NPA reference and glossary</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/independent-software-vendors-da/sensitive-data-protection-sdp.html">Sensitive Data Protection (SDP)</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-independent-software-vendors-da-universal-credential-management-universal-credential-management" aria-expanded="false">
      <span class="body-5 text-black fw-light">Universal Credential Management</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-independent-software-vendors-da-universal-credential-management-universal-credential-management" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-independent-software-vendors-da-universal-credential-management-universal-credential-management">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/independent-software-vendors-da/universal-credential-management/overview.html">Overview</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/independent-software-vendors-da/universal-credential-management/how-the-ucm-framework-works.html">How the UCM framework works</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/independent-software-vendors-da/universal-credential-management/install-and-get-credentials-through-ucm.html">Install and get credentials through UCM</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-mdm-providers" aria-expanded="false">
      <span class="body-5 text-black fw-light">MDM Providers</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-mdm-providers" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-mdm-providers">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-accounts-accounts" aria-expanded="false">
      <span class="body-5 text-black fw-light">Accounts</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-accounts-accounts" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-accounts-accounts">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/accounts/email-accounts/index.html">Email accounts</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-app-management-app-management" aria-expanded="false">
      <span class="body-5 text-black fw-light">App management</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-app-management-app-management" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-app-management-app-management">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/app-management/app-installation/index.html">App installation</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/app-management/google-play/index.html">Google Play (Workspace)</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/app-management/google-mobile-services-in-workspace-gms/index.html">Google Mobile Services in Workspace (GMS)</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-connections-connections" aria-expanded="false">
      <span class="body-5 text-black fw-light">Connections</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-connections-connections" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-connections-connections">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/connections/wi-fi.html">Wi-Fi</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/connections/bluetooth.html">Bluetooth</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/connections/access-point-name.html">Access Point Name</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/connections/firewalls.html">Firewalls</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/connections/near-field-communications/index.html">Near Field Communications</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-data-data" aria-expanded="false">
      <span class="body-5 text-black fw-light">Data</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-data-data" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-data-data">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/data/control-phone-use/index.html">Control phone use (Workspace)</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/data/contact-storage-restrictions.html">Contacts storage</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/data/data-sharing/index.html">Data sharing (Workspace)</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/data/data-saver/index.html">Data saver</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-data-dualdar-encryption-dualdar-encryption" aria-expanded="false">
      <span class="body-5 text-black fw-light">DualDAR encryption</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-data-dualdar-encryption-dualdar-encryption" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-data-dualdar-encryption-dualdar-encryption">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/data/dualdar-encryption/dualdar-architecture.html">DualDAR architecture</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/data/dualdar-encryption/dualdar-uem-integration.html">DualDAR UEM integration</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/data/enterprise-roaming/index.html">Enterprise roaming</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/data/public-safety-lte/index.html">Public Safety LTE</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-data-network-platform-analytics-network-platform-analytics" aria-expanded="false">
      <span class="body-5 text-black fw-light">Network Platform Analytics</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-data-network-platform-analytics-network-platform-analytics" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-data-network-platform-analytics-network-platform-analytics">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/data/network-platform-analytics/introduction/index.html">Introduction</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/data/network-platform-analytics/npa-emm-integration.html">NPA EMM integration</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/data/network-platform-analytics/npa-reference-and-glossary.html">Reference and glossary</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-device-management-device-management" aria-expanded="false">
      <span class="body-5 text-black fw-light">Device management</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-device-management-device-management" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-device-management-device-management">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/device-management/app-behavior/index.html">App behavior</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-device-management-hardware-key-mappings-hardware-key-mappings" aria-expanded="false">
      <span class="body-5 text-black fw-light">Hardware key mappings</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-device-management-hardware-key-mappings-hardware-key-mappings" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-device-management-hardware-key-mappings-hardware-key-mappings">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/device-management/hardware-key-mappings/overview/index.html">Overview</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/device-management/hardware-key-mappings/unmanaged-key-mappings/index.html">Unmanaged key mappings</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/device-management/hardware-key-mappings/managed-key-mappings/index.html">Managed key mappings</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/device-management/power-saving-mode.html">Power saving mode</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-device-management-remote-control-remote-control" aria-expanded="false">
      <span class="body-5 text-black fw-light">Remote control</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-device-management-remote-control-remote-control" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-device-management-remote-control-remote-control">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/device-management/remote-control/remote-control.html">Remote control</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/device-management/remote-control/remote-viewing.html">Remote viewing</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/device-management/remote-control/remote-injection.html">Remote injection</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/device-management/remote-control/remote-control-for-work-profiles.html">Remote control for work profiles</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/device-management/remote-control/remote-control-for-samsung-dex.html">Remote control for Samsung DeX</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/device-management/samsung-dex-and-knox.html">Samsung DeX and Knox</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-keystores-keystores" aria-expanded="false">
      <span class="body-5 text-black fw-light">Keystores</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-keystores-keystores" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-keystores-keystores">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-keystores-tima-keystore-tima-keystore" aria-expanded="false">
      <span class="body-5 text-black fw-light">TIMA Keystore</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-keystores-tima-keystore-tima-keystore" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-keystores-tima-keystore-tima-keystore">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/keystores/tima-keystore/tima-keystore.html">TIMA Keystore</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/keystores/tima-keystore/access-the-tima-keystore/index.html">Access the TIMA keystores</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/keystores/tima-keystore/android-keystores/index.html">Access Android keystores</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-keystores-tima-ccm-keystores-tima-ccm-keystores" aria-expanded="false">
      <span class="body-5 text-black fw-light">TIMA CCM keystores</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-keystores-tima-ccm-keystores-tima-ccm-keystores" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-keystores-tima-ccm-keystores-tima-ccm-keystores">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/keystores/tima-ccm-keystores/tima-ccm-keystore-support-for-pkcs/index.html">TIMA CCM Keystore support for PKCS #11 API</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-keystores-tima-ccm-keystores-ccm-examples-ccm-examples" aria-expanded="false">
      <span class="body-5 text-black fw-light">CCM examples</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-keystores-tima-ccm-keystores-ccm-examples-ccm-examples" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-keystores-tima-ccm-keystores-ccm-examples-ccm-examples">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/keystores/tima-ccm-keystores/ccm-examples/certificates-stored-and-managed-by-ccm/index.html">Certificates stored and managed by CCM</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/keystores/tima-ccm-keystores/ccm-examples/ccm-operations/index.html">CCM operations</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/keystores/tima-ccm-keystores/ccm-examples/certificates-for-government-apps/index.html">Certificates for government apps</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/keystores/tima-ccm-keystores/deprecation-of-tima-ccm-keystore-support.html">Deprecation of TIMA/CCM Keystore support</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/keystores/certificate-enrollment-protocol/index.html">Certificate Enrollment Protocol</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-keystores-universal-credential-management-universal-credential-management" aria-expanded="false">
      <span class="body-5 text-black fw-light">Universal Credential Management</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-keystores-universal-credential-management-universal-credential-management" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-keystores-universal-credential-management-universal-credential-management">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/keystores/universal-credential-management/overview.html">Overview</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/keystores/universal-credential-management/how-ucm-works/index.html">How UCM works</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/keystores/universal-credential-management/install-and-get-credentials/index.html">Install and get credentials</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-security-security" aria-expanded="false">
      <span class="body-5 text-black fw-light">Security</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-security-security" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-security-security">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/security/attestation/index.html">Attestation</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/security/android-m-permissions.html">Android M permissions</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/security/biometric-authentication/index.html">Biometric authentication</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/security/password.html">Password</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/security/se-for-android-policy-delivery-spd-updates/index.html">SE for Android Policy Delivery (SPD) updates</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/security/seams/index.html">SEAMS</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/security/trust-anchors/index.html">Trust Anchors</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-vpn-vpn" aria-expanded="false">
      <span class="body-5 text-black fw-light">VPN</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-vpn-vpn" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-vpn-vpn">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/vpn/about-knox-vpns/index.html">About Knox VPNs</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/vpn/vpn-profile-configuration.html">VPN profile configuration</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/vpn/vpn-chaining.html">VPN chaining</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/vpn/knox-vpn-json-message-definition/index.html">Knox VPN JSON message definition</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/vpn/vpn-audit-log.html">VPN audit log</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/vpn/configure-npa-reporting.html">Configure NPA reporting</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-workspaces-workspaces" aria-expanded="false">
      <span class="body-5 text-black fw-light">Workspaces</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-workspaces-workspaces" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-workspaces-workspaces">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/workspaces/about-containers.html">About containers</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/workspaces/create-containers.html">Create containers</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-workspaces-workspace-changes-in-3x-workspace-changes-in-3x" aria-expanded="false">
      <span class="body-5 text-black fw-light">Workspace changes in 3.x</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-mdm-providers-workspaces-workspace-changes-in-3x-workspace-changes-in-3x" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-mdm-providers-workspaces-workspace-changes-in-3x-workspace-changes-in-3x">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/workspaces/workspace-changes-in-3x/new-container-architecture-overview.html">New container architecture overview</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/workspaces/workspace-changes-in-3x/what-happens-to-existing-knox-2x-workspaces/index.html">What happens to existing Knox 2.x Workspaces?</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/workspaces/workspace-changes-in-3x/what-happens-to-existing-work-profiles.html">What happens to existing Work Profiles?</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/workspaces/workspace-changes-in-3x/supporting-the-new-container/index.html">Supporting the new container</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/workspaces/workspace-changes-in-3x/changes-overview.html">Changes overview</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/mdm-providers/workspaces/unsupported-com-and-cl-workspaces.html">Unsupported COM and CL Workspaces</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-system-integrators-system-integrators" aria-expanded="false">
      <span class="body-5 text-black fw-light">System Integrators</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-system-integrators-system-integrators" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-system-integrators-system-integrators">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-system-integrators-customization-customization" aria-expanded="false">
      <span class="body-5 text-black fw-light">Customization</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-system-integrators-customization-customization" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-system-integrators-customization-customization">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/system-integrators/customization/knox-customization/index.html">Knox Customization</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/system-integrators/customization/kiosk-mode.html">Kiosk mode (free)</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/system-integrators/customization/kiosk-using-container-only-mode/index.html">Kiosk using Container Only Mode</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-system-integrators-customization-prokiosk-paid-prokiosk-paid" aria-expanded="false">
      <span class="body-5 text-black fw-light">ProKiosk (paid)</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-system-integrators-customization-prokiosk-paid-prokiosk-paid" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-system-integrators-customization-prokiosk-paid-prokiosk-paid">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/system-integrators/customization/prokiosk-paid/prokiosk.html">ProKiosk</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/system-integrators/customization/prokiosk-paid/custom-boot-and-shutdown-animations/index.html">Custom boot and shutdown animations</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  </ul>
    </div></li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-vpn-providers-vpn-providers" aria-expanded="false">
      <span class="body-5 text-black fw-light">VPN Providers</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-vpn-providers-vpn-providers" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-vpn-providers-vpn-providers">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/vpn-providers/overview.html">Overview</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/vpn-providers/implementation.html">Implementation</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/vpn-providers/security-requirements.html">Security requirements</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/vpn-providers/vpn-namespace-changes.html">VPN namespace changes</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-storage-providers-storage-providers" aria-expanded="false">
      <span class="body-5 text-black fw-light">Storage Providers</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-features-storage-providers-storage-providers" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-features-storage-providers-storage-providers">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/storage-providers/overview/index.html">Overview</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/storage-providers/how-ucm-works/index.html">How UCM works</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../features/storage-providers/create-a-ucm-plugin.html">Create a UCM plugin</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  </ul>
    </div></li>
  
        
          
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-api-reference-api-reference" aria-expanded="false">
      <span class="body-5 text-black fw-light">API reference</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-api-reference-api-reference" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-api-reference-api-reference">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../api-reference/deprecated-api-methods.html">Deprecated API methods</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../api-reference/restricted-api-methods.html">Restricted API methods</a>
    </div>
    
    </li>
  <li>
    <div class="d-flex justify-content-between align-items-center">
      <a class="body-5 text-black fw-light" href="../../../../../devref/knox-sdk/index.html" target="_blank" rel="noreferrer">Full API reference</a>
    </div>
  </li>
</ul>
    </div></li>
  
        
          
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-tools-tools" aria-expanded="false">
      <span class="body-5 text-black fw-light">Tools</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-tools-tools" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-tools-tools">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../tools/ml-encryption/index.html">ML Encryption</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../tools/knox-peripheral-plugins.html">Peripheral Plugins</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../tools/knox-vpn-tools/index.html">Knox VPN Tools</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../tools/support-libraries-for-knox-vpn-providers/index.html">Support libraries for Knox VPN providers</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
        
          
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-migrations-migrations" aria-expanded="false">
      <span class="body-5 text-black fw-light">Migrations</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-migrations-migrations" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-migrations-migrations">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-migrations-android-11-android-11" aria-expanded="false">
      <span class="body-5 text-black fw-light">Android 11</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-migrations-android-11-android-11" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-migrations-android-11-android-11">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../migrations/android-11/prepare-knox-for-android-11.html">Prepare Knox for Android 11</a>
    </div>
    
    </li>
  <li>
    <div class="d-flex justify-content-between align-items-center">
      <a class="body-5 text-black fw-light" href="../../../../../admin/knox-platform-for-enterprise/migrate-to-android-11/device-management-modes/overview.html" target="_blank" rel="noreferrer">Device management modes</a>
    </div>
  </li>
<li>
    <div class="d-flex justify-content-between align-items-center">
      <a class="body-5 text-black fw-light" href="../../../../../admin/knox-platform-for-enterprise/migrate-to-android-11/device-management-modes/work-profile-on-company-owned-devices.html" target="_blank" rel="noreferrer">Work profile on company-owned devices</a>
    </div>
  </li>
<li>
    <div class="d-flex justify-content-between align-items-center">
      <a class="body-5 text-black fw-light" href="../../../../../admin/knox-platform-for-enterprise/migrate-to-android-11/device-management-modes/knox-policies-in-the-personal-profile.html" target="_blank" rel="noreferrer">Knox policies in personal profile</a>
    </div>
  </li>

  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../migrations/android-11/knox-apis-in-the-personal-profile.html">Knox APIs in personal profile</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-migrations-android-enterprise-android-enterprise" aria-expanded="false">
      <span class="body-5 text-black fw-light">Android Enterprise</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-migrations-android-enterprise-android-enterprise" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-migrations-android-enterprise-android-enterprise">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../migrations/android-enterprise/device-admin-deprecation.html">Device admin deprecation</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../migrations/android-enterprise/da-deprecation-and-samsung.html">DA deprecation and Samsung</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../migrations/android-enterprise/da-deprecation-and-vmware.html">DA deprecation and VMware</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  </ul>
    </div></li>
  
        
          
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../release-notes.html">Release notes</a>
    </div>
      
    </li>
  
        
          
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-faq-faq" aria-expanded="false">
      <span class="body-5 text-black fw-light">FAQ</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-sdk-faq-faq" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-sdk-faq-faq">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/general.html">General</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/ml-model-protection/index.html">ML model protection</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/installation.html">Installation</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/licensing/index.html">Licensing</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/elm-license-end-of-service/index.html">ELM license end of service</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/operation.html">Operation</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/premium-features/index.html">Premium features</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/customization.html">Customization</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/workspace/index.html">Workspace</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/sdp/index.html">SDP</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/samsung-dex/index.html">Samsung DeX</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/security/index.html">Security</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/standard-features/index.html">Standard features</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/vpn/index.html">VPN</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/vpn-provider/index.html">VPN provider</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/containers/index.html">Containers</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/device-admin-deprecation.html">Device admin deprecation</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../faq/api-restrictions.html">API access restrictions</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
        
          
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../kbas/index.html">KBAs</a>
    </div>
      
    </li>
  </ul>
  </nav>
</aside></div>
        <div class="l-main pt-md-6">
          
          <div class="l-content-top mb-4">
            <div class="l-breadcrumb">
              <a class="fw-light text-black" href="../../../../index.html">Home</a><span> /</span>
<a class="fw-light text-black" href="../../../../knox-sdk.html">Knox SDK</a><span> /</span>
<a class="fw-light text-black" href="../../../sample-app-tutorials.html">Sample app tutorials</a><span> /</span>
<a class="fw-light text-black" href="../index.html">Manage certificates in TIMA CCM</a><span> /</span>

            </div>
            <div class="mt-4">
              <h1>Manage certificates</h1>
            </div>
            

  <p><span>Last updated February  8th, 2024</span></p>


    

</div>
          <div class="l-content">
            

  




      
      
      
      
        <p>Now, you can use the Knox APIs to manage certificates in TIMA CCM.</p>
<h2 id="create-ccm-profile">Create CCM Profile</h2>
<p>This method initializes a CCMProfile object, sets its accessControlMethod to default and asks the user if they want to allowlist all the packages in the container.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">createCCMProfile</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Initialize a CCMProfile object
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        mCCMProfileObj <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">new</span> CCMProfile<span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Set its accessControlMethod to the default method
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        mCCMProfileObj<span style="color:#666">.</span><span style="color:#7d9029">accessControlMethod</span> <span style="color:#666">=</span> CCMProfile<span style="color:#666">.</span><span style="color:#7d9029">AccessControlMethod</span><span style="color:#666">.</span><span style="color:#7d9029">LOCK_STATE</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Proceed to ask the user if they want to allowlist all packages
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        whitelistAllPackages<span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="allowlist-all-packages">Allowlist all packages</h2>
<p>This method asks the user if they want to allowlist all the packages in the container. Allowlisting allows them access to the token. If they do, the app skips asking the user to allowlist specific package names and set the CCM profile. If they don&rsquo;t, it asks the user to allowlist specific package names before setting the CCM profile.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">whitelistAllPackages</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Create a dialog box to show to the user
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        <span style="color:#008000;font-weight:bold">new</span> AlertDialog<span style="color:#666">.</span><span style="color:#7d9029">Builder</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// Set the dialog box&#39;s title
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                <span style="color:#666">.</span><span style="color:#7d9029">setTitle</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">whitelist_all_packages</span><span style="color:#666">))</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// Set the dialog box&#39;s message
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                <span style="color:#666">.</span><span style="color:#7d9029">setMessage</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">whitelist_all_packages_message</span><span style="color:#666">))</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// Set the action buttons
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                <span style="color:#666">.</span><span style="color:#7d9029">setPositiveButton</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">opt_yes</span><span style="color:#666">),</span> <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> which<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#408080;font-style:italic">// Allowlist all the packages, then set the CCM profile
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                        mCCMProfileObj<span style="color:#666">.</span><span style="color:#7d9029">whiteListAllPackages</span> <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">true</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>                        setCCMProfile<span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">}).</span><span style="color:#7d9029">setNegativeButton</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">opt_no</span><span style="color:#666">),</span> <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> which<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// Ask the user for specific package names to be allowlisted
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                mCCMProfileObj<span style="color:#666">.</span><span style="color:#7d9029">whiteListAllPackages</span> <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">false</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>                whitelistPackagesToAccessToken<span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}).</span><span style="color:#7d9029">show</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="allowlist-specific-packages">Allowlist specific packages</h2>
<p>This method prompts the user to select certain packages in the container to be allowlisted, allowing them to access the token.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">whitelistPackagesToAccessToken</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// List to contain the user&#39;s selected packages
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        <span style="color:#008000;font-weight:bold">final</span> List<span style="color:#666">&lt;</span>String<span style="color:#666">&gt;</span> selectedPackages <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">new</span> ArrayList<span style="color:#666">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// List of installed packages on the device
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        <span style="color:#008000;font-weight:bold">final</span> List<span style="color:#666">&lt;</span>String<span style="color:#666">&gt;</span> installedPackages <span style="color:#666">=</span> getInstalledPackages<span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Create a dialog box to show to the user
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        AlertDialog<span style="color:#666">.</span><span style="color:#7d9029">Builder</span> builder <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">new</span> AlertDialog<span style="color:#666">.</span><span style="color:#7d9029">Builder</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Set the dialog box&#39;s title
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setTitle</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">whitelist_packages_list_title</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Convert the list of installed packages to an array
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        <span style="color:#008000;font-weight:bold">final</span> String<span style="color:#666">[]</span> installedPackagesArr <span style="color:#666">=</span> installedPackages<span style="color:#666">.</span><span style="color:#7d9029">toArray</span><span style="color:#666">(</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">new</span> String<span style="color:#666">[</span>installedPackages<span style="color:#666">.</span><span style="color:#7d9029">size</span><span style="color:#666">()]);</span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setMultiChoiceItems</span><span style="color:#666">(</span>installedPackagesArr<span style="color:#666">,</span> <span style="color:#008000;font-weight:bold">null</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnMultiChoiceClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> indexSelected<span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                                        <span style="color:#b00040">boolean</span> isChecked<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#408080;font-style:italic">// If user selects a package in the list
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                        String selectedPackage <span style="color:#666">=</span> installedPackagesArr<span style="color:#666">[</span>indexSelected<span style="color:#666">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                        <span style="color:#408080;font-style:italic">// If the package is checked, then add it to the selected items
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                        <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>isChecked<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                            selectedPackages<span style="color:#666">.</span><span style="color:#7d9029">add</span><span style="color:#666">(</span>selectedPackage<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>selectedPackages<span style="color:#666">.</span><span style="color:#7d9029">contains</span><span style="color:#666">(</span>selectedPackage<span style="color:#666">))</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                            selectedPackages<span style="color:#666">.</span><span style="color:#7d9029">remove</span><span style="color:#666">(</span>selectedPackage<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">})</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// Set the action buttons
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                <span style="color:#666">.</span><span style="color:#7d9029">setPositiveButton</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">option_confirm</span><span style="color:#666">),</span> <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> id<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#408080;font-style:italic">// Set the CCM Profile&#39;s packageList to that of allowlisted packages by user
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                        mCCMProfileObj<span style="color:#666">.</span><span style="color:#7d9029">packageList</span> <span style="color:#666">=</span> selectedPackages<span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#408080;font-style:italic">// Proceed to apply the CCM profile
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                        setCCMProfile<span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                        dialog<span style="color:#666">.</span><span style="color:#7d9029">dismiss</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">})</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">.</span><span style="color:#7d9029">setNegativeButton</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">option_cancel</span><span style="color:#666">),</span> <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> id<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#408080;font-style:italic">// Cancel CCM Profile creation
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                        mCCMProfileObj <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">null</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>                        mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">cancel_ccm_profile</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                        dialog<span style="color:#666">.</span><span style="color:#7d9029">dismiss</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">});</span>
</span></span><span style="display:flex;"><span>        AlertDialog dialog <span style="color:#666">=</span> builder<span style="color:#666">.</span><span style="color:#7d9029">create</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Show the dialog box to the user
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        dialog<span style="color:#666">.</span><span style="color:#7d9029">show</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="set-ccm-profile">Set CCM Profile</h2>
<p>This method applies the CCM profile created by the user through the dialog boxes.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">setCCMProfile</span> <span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Instantiate the EnterpriseKnoxManager class
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        EnterpriseKnoxManager enterpriseKnoxManager <span style="color:#666">=</span> EnterpriseKnoxManager<span style="color:#666">.</span><span style="color:#7d9029">getInstance</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Get the ClientCertificateManager where the setCCMProfile method lives
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        ClientCertificateManager clientCertificateManager <span style="color:#666">=</span> enterpriseKnoxManager<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span>                <span style="color:#00f">getClientCertificateManagerPolicy</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>        mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">about_to_apply_profile</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// display the current CCM Profile Object&#39;s access method
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">display_ccm_access</span><span style="color:#666">,</span> mCCMProfileObj<span style="color:#666">.</span><span style="color:#7d9029">accessControlMethod</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// display whether the CCM profile allowlisted all packages
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">display_ccm_whitelist_all_packages</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                mCCMProfileObj<span style="color:#666">.</span><span style="color:#7d9029">whiteListAllPackages</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// if not allowlisting all packages, display each allowlisted package
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(!</span>mCCMProfileObj<span style="color:#666">.</span><span style="color:#7d9029">whiteListAllPackages</span><span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">display_ccm_packagelist</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// display the CCM profile&#39;s package list
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#008000;font-weight:bold">for</span> <span style="color:#666">(</span>String packageName <span style="color:#666">:</span> mCCMProfileObj<span style="color:#666">.</span><span style="color:#7d9029">packageList</span><span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">input_package_name</span><span style="color:#666">,</span> packageName<span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">try</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// Apply the CCM Profile
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#b00040">boolean</span> result <span style="color:#666">=</span> clientCertificateManager<span style="color:#666">.</span><span style="color:#7d9029">setCCMProfile</span><span style="color:#666">(</span>mCCMProfileObj<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// Display CCM profile set result
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>result<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">ccm_profile_set_successfully</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">ccm_profile_failed</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">catch</span> <span style="color:#666">(</span>SecurityException e<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            mUtils<span style="color:#666">.</span><span style="color:#7d9029">processException</span><span style="color:#666">(</span>e<span style="color:#666">,</span> TAG<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="get-ccm-profile">Get CCM Profile</h2>
<p>This method gets the current CCM profile set through setCCMProfile, and displays its details to the user.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">getCCMProfile</span> <span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Instantiate the EnterpriseKnoxManager class
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        EnterpriseKnoxManager enterpriseKnoxManager <span style="color:#666">=</span> EnterpriseKnoxManager<span style="color:#666">.</span><span style="color:#7d9029">getInstance</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Get the ClientCertificateManager where the setCCMProfile method lives
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        ClientCertificateManager clientCertificateManager <span style="color:#666">=</span> enterpriseKnoxManager<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span>                <span style="color:#00f">getClientCertificateManagerPolicy</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">try</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            CCMProfile currentProfile <span style="color:#666">=</span> clientCertificateManager<span style="color:#666">.</span><span style="color:#7d9029">getCCMProfile</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>currentProfile <span style="color:#666">!=</span> <span style="color:#008000;font-weight:bold">null</span><span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">display_current_profile</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// display the current CCM Profile Object&#39;s access method
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">display_ccm_access</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                        currentProfile<span style="color:#666">.</span><span style="color:#7d9029">accessControlMethod</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// display whether the CCM profile allowlisted all packages
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">display_ccm_whitelist_all_packages</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                        currentProfile<span style="color:#666">.</span><span style="color:#7d9029">whiteListAllPackages</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// if not allowlisting all packages, display each allowlisted package
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(!</span>currentProfile<span style="color:#666">.</span><span style="color:#7d9029">whiteListAllPackages</span><span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                    mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">display_ccm_packagelist</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#408080;font-style:italic">// display the CCM profile&#39;s package list
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                    <span style="color:#008000;font-weight:bold">for</span> <span style="color:#666">(</span>String packageName <span style="color:#666">:</span> currentProfile<span style="color:#666">.</span><span style="color:#7d9029">packageList</span><span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                        mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">input_package_name</span><span style="color:#666">,</span> packageName<span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">no_profile_set</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">catch</span> <span style="color:#666">(</span>Exception e<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            mUtils<span style="color:#666">.</span><span style="color:#7d9029">processException</span><span style="color:#666">(</span>e<span style="color:#666">,</span> TAG<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="delete-ccm-profile">Delete CCM Profile</h2>
<p>This method deletes the current CCM Profile.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">deleteCCMProfile</span> <span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Instantiate the EnterpriseKnoxManager class
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        EnterpriseKnoxManager enterpriseKnoxManager <span style="color:#666">=</span> EnterpriseKnoxManager<span style="color:#666">.</span><span style="color:#7d9029">getInstance</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Get the ClientCertificateManager where the setCCMProfile method lives
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        ClientCertificateManager clientCertificateManager <span style="color:#666">=</span> enterpriseKnoxManager
</span></span><span style="display:flex;"><span>                <span style="color:#666">.</span><span style="color:#7d9029">getClientCertificateManagerPolicy</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">try</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#b00040">boolean</span> result <span style="color:#666">=</span> clientCertificateManager<span style="color:#666">.</span><span style="color:#7d9029">deleteCCMProfile</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>result<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// Delete CCM Profile result
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">ccm_profile_delete_successfully</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">ccm_profile_delete_failed</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">catch</span> <span style="color:#666">(</span>SecurityException e<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            mUtils<span style="color:#666">.</span><span style="color:#7d9029">processException</span><span style="color:#666">(</span>e<span style="color:#666">,</span> TAG<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="get-default-certificate-alias">Get default Certificate Alias</h2>
<p>This method returns the default certificate alias, if one exists for the device. The default certificate is a device-unique certificate rooted at the Samsung root certificate, and can be used to uniquely identify a Samsung device.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">getDefaultCertificateAlias</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Instantiate the EnterpriseKnoxManager class
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        EnterpriseKnoxManager enterpriseKnoxManager <span style="color:#666">=</span> EnterpriseKnoxManager<span style="color:#666">.</span><span style="color:#7d9029">getInstance</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Get the ClientCertificateManager where the setCCMProfile method lives
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        ClientCertificateManager clientCertificateManager <span style="color:#666">=</span> enterpriseKnoxManager<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span>                <span style="color:#00f">getClientCertificateManagerPolicy</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">try</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            String defaultAlias <span style="color:#666">=</span> clientCertificateManager<span style="color:#666">.</span><span style="color:#7d9029">getDefaultCertificateAlias</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>defaultAlias <span style="color:#666">!=</span> <span style="color:#008000;font-weight:bold">null</span><span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// Display the default certificate alias
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">get_default_certificate</span><span style="color:#666">,</span> defaultAlias<span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// No default certificate alias is available
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">no_default_certificate</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">catch</span> <span style="color:#666">(</span>Exception e<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            mUtils<span style="color:#666">.</span><span style="color:#7d9029">processException</span><span style="color:#666">(</span>e<span style="color:#666">,</span> TAG<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="create-certificate">Create Certificate</h2>
<p>This method initializes a CertificateProfile object, and asks the user to set an alias for it.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">createCertificate</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        mCertificateProfile <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">new</span> CertificateProfile<span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">creating_new_certificate_profile</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>        configureCertificate<span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="configure-certificate">Configure Certificate</h2>
<p>This method asks the user to provide a certificate alias, as well as choose to allow or disallow Wi-Fi, allow or disallow all packages, and enable or disable CSRResponse.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">configureCertificate</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Build a dialog to show the user
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        AlertDialog<span style="color:#666">.</span><span style="color:#7d9029">Builder</span> builder <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">new</span> AlertDialog<span style="color:#666">.</span><span style="color:#7d9029">Builder</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// WIth the title &#34;Configure Certificate&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setTitle</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">configure_certificate</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>        View viewInflated <span style="color:#666">=</span> LayoutInflater<span style="color:#666">.</span><span style="color:#7d9029">from</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">).</span>
</span></span><span style="display:flex;"><span>                inflate<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">layout</span><span style="color:#666">.</span><span style="color:#7d9029">prompt_certificate_alias_wifi_packages_csrresponse</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#666">(</span>ViewGroup<span style="color:#666">)</span> findViewById<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">id</span><span style="color:#666">.</span><span style="color:#7d9029">configureCertificateGroup</span><span style="color:#666">),</span> <span style="color:#008000;font-weight:bold">false</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">final</span> EditText edTxtCertAlias <span style="color:#666">=</span> viewInflated<span style="color:#666">.</span><span style="color:#7d9029">findViewById</span><span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">id</span><span style="color:#666">.</span><span style="color:#7d9029">edtxtCertificateAlias</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">final</span> CheckBox chkAllowAllPackages <span style="color:#666">=</span> viewInflated<span style="color:#666">.</span><span style="color:#7d9029">findViewById</span><span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">id</span><span style="color:#666">.</span><span style="color:#7d9029">chkAllowAllPackages</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">final</span> CheckBox chkAllowWifi <span style="color:#666">=</span> viewInflated<span style="color:#666">.</span><span style="color:#7d9029">findViewById</span><span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">id</span><span style="color:#666">.</span><span style="color:#7d9029">chkAllowWifi</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">final</span> CheckBox chkIsCSRResponse <span style="color:#666">=</span> viewInflated<span style="color:#666">.</span><span style="color:#7d9029">findViewById</span><span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">id</span><span style="color:#666">.</span><span style="color:#7d9029">chkIsCSRResponse</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setView</span><span style="color:#666">(</span>viewInflated<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setPositiveButton</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">option_confirm</span><span style="color:#666">),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> which<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mCertificateProfile<span style="color:#666">.</span><span style="color:#7d9029">alias</span> <span style="color:#666">=</span> edTxtCertAlias<span style="color:#666">.</span><span style="color:#7d9029">getText</span><span style="color:#666">().</span><span style="color:#7d9029">toString</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>                mCertificateProfile<span style="color:#666">.</span><span style="color:#7d9029">allowAllPackages</span> <span style="color:#666">=</span> chkAllowAllPackages<span style="color:#666">.</span><span style="color:#7d9029">isChecked</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>                mCertificateProfile<span style="color:#666">.</span><span style="color:#7d9029">allowWiFi</span> <span style="color:#666">=</span> chkAllowWifi<span style="color:#666">.</span><span style="color:#7d9029">isChecked</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>                mCertificateProfile<span style="color:#666">.</span><span style="color:#7d9029">isCSRResponse</span> <span style="color:#666">=</span> chkIsCSRResponse<span style="color:#666">.</span><span style="color:#7d9029">isChecked</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">configuring_certificate_with</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">certificate_alias_is</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                        mCertificateProfile<span style="color:#666">.</span><span style="color:#7d9029">alias</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">certificate_allow_all_packages_is</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                        mCertificateProfile<span style="color:#666">.</span><span style="color:#7d9029">allowAllPackages</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">certificate_allow_wifi_is</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                        mCertificateProfile<span style="color:#666">.</span><span style="color:#7d9029">allowWiFi</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">certificate_iscsrresponse_is</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                        mCertificateProfile<span style="color:#666">.</span><span style="color:#7d9029">isCSRResponse</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// If provided alias is not empty string
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(!(</span>mCertificateProfile<span style="color:#666">.</span><span style="color:#7d9029">alias</span><span style="color:#666">).</span><span style="color:#7d9029">equals</span><span style="color:#666">(</span><span style="color:#ba2121">&#34;&#34;</span><span style="color:#666">))</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#408080;font-style:italic">// Check if allow all packages checked
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                    <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>mCertificateProfile<span style="color:#666">.</span><span style="color:#7d9029">allowAllPackages</span><span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#408080;font-style:italic">// If it is, skip choosing specific packages to choose
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                        setCertificatePathAndPassword<span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#408080;font-style:italic">// If it isn&#39;t, prompt user for specific packages to choose
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                        allowPackagesToAccessCertificate<span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#408080;font-style:italic">// If provided alias is empty, prompt user for valid alias
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                    mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">provide_valid_alias</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">});</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setNegativeButton</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">option_cancel</span><span style="color:#666">),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> which<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// Certificate creation cancelled. Reset the certificate profile.
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                mCertificateProfile <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">null</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">certificate_profile_cancelled</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                dialog<span style="color:#666">.</span><span style="color:#7d9029">cancel</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">});</span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">show</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="allow-packages-to-access-current-certificate">Allow packages to access current Certificate</h2>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">allowPackagesToAccessCertificate</span> <span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// List to contain the user&#39;s selected packages
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        <span style="color:#008000;font-weight:bold">final</span> List<span style="color:#666">&lt;</span>String<span style="color:#666">&gt;</span> selectedPackages <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">new</span> ArrayList<span style="color:#666">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// List of installed packages on the device
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        <span style="color:#008000;font-weight:bold">final</span> List<span style="color:#666">&lt;</span>String<span style="color:#666">&gt;</span> installedPackages <span style="color:#666">=</span> getInstalledPackages<span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Create a dialog box to show to the user
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        AlertDialog<span style="color:#666">.</span><span style="color:#7d9029">Builder</span> builder <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">new</span> AlertDialog<span style="color:#666">.</span><span style="color:#7d9029">Builder</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Set the dialog box&#39;s title
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setTitle</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">whitelist_packages_list_title</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Convert the list of installed packages to an array
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        <span style="color:#008000;font-weight:bold">final</span> String<span style="color:#666">[]</span> installedPackagesArr <span style="color:#666">=</span> installedPackages<span style="color:#666">.</span><span style="color:#7d9029">toArray</span><span style="color:#666">(</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">new</span> String<span style="color:#666">[</span>installedPackages<span style="color:#666">.</span><span style="color:#7d9029">size</span><span style="color:#666">()]);</span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setMultiChoiceItems</span><span style="color:#666">(</span>installedPackagesArr<span style="color:#666">,</span> <span style="color:#008000;font-weight:bold">null</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnMultiChoiceClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> indexSelected<span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                                        <span style="color:#b00040">boolean</span> isChecked<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#408080;font-style:italic">// If user selects a package in the list
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                        String selectedPackage <span style="color:#666">=</span> installedPackagesArr<span style="color:#666">[</span>indexSelected<span style="color:#666">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                        <span style="color:#408080;font-style:italic">// If package is checked, then add it to the selected items
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                        <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>isChecked<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                            selectedPackages<span style="color:#666">.</span><span style="color:#7d9029">add</span><span style="color:#666">(</span>selectedPackage<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>selectedPackages<span style="color:#666">.</span><span style="color:#7d9029">contains</span><span style="color:#666">(</span>selectedPackage<span style="color:#666">))</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                            selectedPackages<span style="color:#666">.</span><span style="color:#7d9029">remove</span><span style="color:#666">(</span>selectedPackage<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">})</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// Set the action buttons
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                <span style="color:#666">.</span><span style="color:#7d9029">setPositiveButton</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">option_confirm</span><span style="color:#666">),</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> id<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#408080;font-style:italic">// Set the CertificateProfile&#39;s packageList to that of allowlisted packages
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                        mCertificateProfile<span style="color:#666">.</span><span style="color:#7d9029">packageList</span> <span style="color:#666">=</span> selectedPackages<span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#408080;font-style:italic">// Proceed to set CertificateProfile&#39;s path and password
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                        setCertificatePathAndPassword<span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                        dialog<span style="color:#666">.</span><span style="color:#7d9029">dismiss</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">})</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">.</span><span style="color:#7d9029">setNegativeButton</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">option_cancel</span><span style="color:#666">),</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> id<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#408080;font-style:italic">// Certificate creation cancelled. Reset the certificate profile.
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                        mCertificateProfile <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">null</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>                        mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">certificate_profile_cancelled</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                        dialog<span style="color:#666">.</span><span style="color:#7d9029">dismiss</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">});</span>
</span></span><span style="display:flex;"><span>        AlertDialog dialog <span style="color:#666">=</span> builder<span style="color:#666">.</span><span style="color:#7d9029">create</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Show the dialog box to the user
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        dialog<span style="color:#666">.</span><span style="color:#7d9029">show</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="set-certificate-path-and-password">Set Certificate path and password</h2>
<p>This method sets the current certificate&rsquo;s path and password.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">setCertificatePathAndPassword</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Build a dialog for the user
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        AlertDialog<span style="color:#666">.</span><span style="color:#7d9029">Builder</span> builder <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">new</span> AlertDialog<span style="color:#666">.</span><span style="color:#7d9029">Builder</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// with the title &#34;Set Certificate Path and Password&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setTitle</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">set_cert_path_and_pass</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>        View viewInflated <span style="color:#666">=</span> LayoutInflater<span style="color:#666">.</span><span style="color:#7d9029">from</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">).</span>
</span></span><span style="display:flex;"><span>                inflate<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">layout</span><span style="color:#666">.</span><span style="color:#7d9029">prompt_certificate_path_and_password</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#666">(</span>ViewGroup<span style="color:#666">)</span> findViewById<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">id</span><span style="color:#666">.</span><span style="color:#7d9029">certificatePassAndPathGroup</span><span style="color:#666">),</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#008000;font-weight:bold">false</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">final</span> EditText edTxtCertPath <span style="color:#666">=</span> viewInflated<span style="color:#666">.</span><span style="color:#7d9029">findViewById</span><span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">id</span><span style="color:#666">.</span><span style="color:#7d9029">edTxtCertificatePath</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">final</span> EditText edTxtCertPassword <span style="color:#666">=</span> viewInflated<span style="color:#666">.</span><span style="color:#7d9029">findViewById</span><span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">id</span><span style="color:#666">.</span><span style="color:#7d9029">edTxtCertificatePassword</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setView</span><span style="color:#666">(</span>viewInflated<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setPositiveButton</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">option_confirm</span><span style="color:#666">),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> which<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                String path <span style="color:#666">=</span> Environment<span style="color:#666">.</span><span style="color:#7d9029">getExternalStorageDirectory</span><span style="color:#666">()</span> <span style="color:#666">+</span> <span style="color:#ba2121">&#34;/&#34;</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>                String password <span style="color:#666">=</span> edTxtCertPassword<span style="color:#666">.</span><span style="color:#7d9029">getText</span><span style="color:#666">().</span><span style="color:#7d9029">toString</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">provided_cert_path_and_pass</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// Install the path and password
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                installCertificate<span style="color:#666">(</span>path<span style="color:#666">,</span> password<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">});</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setNegativeButton</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">option_cancel</span><span style="color:#666">),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> which<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// Certificate creation cancelled. Reset the certificate profile.
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                mCertificateProfile <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">null</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">certificate_profile_cancelled</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                dialog<span style="color:#666">.</span><span style="color:#7d9029">cancel</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">});</span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">show</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="install-certificate">Install Certificate</h2>
<p>This method installs the current certificate with user-provided details.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">installCertificate</span><span style="color:#666">(</span>String path<span style="color:#666">,</span> String password<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">installing_certificate</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Initialize the EnterpriseKnoxManager class
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        EnterpriseKnoxManager enterpriseKnoxManager <span style="color:#666">=</span> EnterpriseKnoxManager<span style="color:#666">.</span><span style="color:#7d9029">getInstance</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Get the ClientCertificateManager where the installCertificate method lives
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        ClientCertificateManager clientCertificateManager <span style="color:#666">=</span>
</span></span><span style="display:flex;"><span>                enterpriseKnoxManager<span style="color:#666">.</span><span style="color:#7d9029">getClientCertificateManagerPolicy</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">try</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            grantReadExternalStorageRuntimePermission<span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// Get the byte array from the provided path
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#b00040">byte</span><span style="color:#666">[]</span> certificateBuffer <span style="color:#666">=</span> Utils<span style="color:#666">.</span><span style="color:#7d9029">getByteArrayFromPath</span><span style="color:#666">(</span>path<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// Install the certificate with the profile config, byte array and password provided
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#b00040">boolean</span> result <span style="color:#666">=</span> clientCertificateManager<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#00f">installCertificate</span><span style="color:#666">(</span>mCertificateProfile<span style="color:#666">,</span> certificateBuffer<span style="color:#666">,</span> password<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>result<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">certificate_profile_installed_successfully</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">certificate_profile_installation_failed</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">catch</span> <span style="color:#666">(</span>Exception e<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            mUtils<span style="color:#666">.</span><span style="color:#7d9029">processException</span><span style="color:#666">(</span>e<span style="color:#666">,</span> TAG<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="get-installed-packages">Get installed packages</h2>
<p>This method returns a list of installed package names on the device.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> List<span style="color:#666">&lt;</span>String<span style="color:#666">&gt;</span> <span style="color:#00f">getInstalledPackages</span> <span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Get list of installed packages
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        List<span style="color:#666">&lt;</span>PackageInfo<span style="color:#666">&gt;</span> packages <span style="color:#666">=</span> getPackageManager<span style="color:#666">().</span><span style="color:#7d9029">getInstalledPackages</span><span style="color:#666">(</span><span style="color:#666">0</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Initialize a list of package names
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        ArrayList<span style="color:#666">&lt;</span>String<span style="color:#666">&gt;</span> packageList <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">new</span> ArrayList<span style="color:#666">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// For each installed package
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        <span style="color:#008000;font-weight:bold">for</span> <span style="color:#666">(</span>PackageInfo pInfo <span style="color:#666">:</span> packages<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// Add its package name to the return list
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            packageList<span style="color:#666">.</span><span style="color:#7d9029">add</span><span style="color:#666">(</span>pInfo<span style="color:#666">.</span><span style="color:#7d9029">packageName</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">return</span> packageList<span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="prompt-user-to-delete-certificate">Prompt user to delete Certificate</h2>
<p>This method prompts the user for a certificate alias to delete.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">promptUserToDeleteCertificate</span> <span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Create a dialog box
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        AlertDialog<span style="color:#666">.</span><span style="color:#7d9029">Builder</span> builder <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">new</span> AlertDialog<span style="color:#666">.</span><span style="color:#7d9029">Builder</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// with the title &#34;Delete Certificate.&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setTitle</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">delete_certificate</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>        View viewInflated <span style="color:#666">=</span> LayoutInflater<span style="color:#666">.</span><span style="color:#7d9029">from</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">).</span>
</span></span><span style="display:flex;"><span>                inflate<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">layout</span><span style="color:#666">.</span><span style="color:#7d9029">prompt_certificate_alias_to_delete</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#666">(</span>ViewGroup<span style="color:#666">)</span> findViewById<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">id</span><span style="color:#666">.</span><span style="color:#7d9029">deleteCertGroup</span><span style="color:#666">),</span> <span style="color:#008000;font-weight:bold">false</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">final</span> EditText edTxtCertAlias <span style="color:#666">=</span> viewInflated<span style="color:#666">.</span><span style="color:#7d9029">findViewById</span><span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">id</span><span style="color:#666">.</span><span style="color:#7d9029">edtxtCertificateAlias</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setView</span><span style="color:#666">(</span>viewInflated<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setPositiveButton</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">option_confirm</span><span style="color:#666">),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> which<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// Get the user provided alias
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                String alias <span style="color:#666">=</span> edTxtCertAlias<span style="color:#666">.</span><span style="color:#7d9029">getText</span><span style="color:#666">().</span><span style="color:#7d9029">toString</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// If alias is valid
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(!</span>alias<span style="color:#666">.</span><span style="color:#7d9029">equals</span><span style="color:#666">(</span><span style="color:#ba2121">&#34;&#34;</span><span style="color:#666">))</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#408080;font-style:italic">// Delete the certificate with an alias that matches provided alias.
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                    deleteCertificate<span style="color:#666">(</span>alias<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                    mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">no_alias_entered</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">});</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setNegativeButton</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">option_cancel</span><span style="color:#666">),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> which<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mCertificateProfile <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">null</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">certificate_profile_deletion_cancelled</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                dialog<span style="color:#666">.</span><span style="color:#7d9029">cancel</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">});</span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">show</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="delete-certificate">Delete certificate</h2>
<p>This method deletes a certificate with an alias that matches the user-provided alias.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">deleteCertificate</span> <span style="color:#666">(</span>String alias<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Instantiate the EnterpriseKnoxManager class
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        EnterpriseKnoxManager enterpriseKnoxManager <span style="color:#666">=</span> EnterpriseKnoxManager<span style="color:#666">.</span><span style="color:#7d9029">getInstance</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Get the ClientCertificateManager where the setCCMProfile method lives
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        ClientCertificateManager clientCertificateManager <span style="color:#666">=</span> enterpriseKnoxManager<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span>                <span style="color:#00f">getClientCertificateManagerPolicy</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">try</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// attempt to delete the certificate
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#b00040">boolean</span> result <span style="color:#666">=</span> clientCertificateManager<span style="color:#666">.</span><span style="color:#7d9029">deleteCertificate</span><span style="color:#666">(</span>alias<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>result<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">certificate_profile_deleted_successfully</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">certificate_profile_deletion_failed</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">catch</span> <span style="color:#666">(</span>SecurityException e<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            mUtils<span style="color:#666">.</span><span style="color:#7d9029">processException</span><span style="color:#666">(</span>e<span style="color:#666">,</span> TAG<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="prompt-user-for-a-package-name">Prompt user for a package name</h2>
<p>This method prompts the user for a package name to either add or remove from the exempt list, or check if it is affected by CCM policy.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">promptUserForPackage</span> <span style="color:#666">(</span><span style="color:#008000;font-weight:bold">final</span> <span style="color:#b00040">int</span> type<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Create a dialog box
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        AlertDialog<span style="color:#666">.</span><span style="color:#7d9029">Builder</span> builder <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">new</span> AlertDialog<span style="color:#666">.</span><span style="color:#7d9029">Builder</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// With a title depending on what button the user pressed
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        <span style="color:#008000;font-weight:bold">switch</span> <span style="color:#666">(</span>type<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// Title to add package to exempt list
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#008000;font-weight:bold">case</span> ADD_PACKAGE<span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>                builder<span style="color:#666">.</span><span style="color:#7d9029">setTitle</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">add_package_to_exempt_list</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">break</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// Title to remove package from exempt list
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#008000;font-weight:bold">case</span> REMOVE_PACKAGE<span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>                builder<span style="color:#666">.</span><span style="color:#7d9029">setTitle</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">remove_package_from_exempt_list</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">break</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// Title to check if CCM policy is enabled for a package
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#008000;font-weight:bold">case</span> CHECK_PACKAGE<span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>                builder<span style="color:#666">.</span><span style="color:#7d9029">setTitle</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">check_ccm_policy_enabled_for_package</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">break</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">default</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">return</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        View viewInflated <span style="color:#666">=</span> LayoutInflater<span style="color:#666">.</span><span style="color:#7d9029">from</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">).</span>
</span></span><span style="display:flex;"><span>                inflate<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">layout</span><span style="color:#666">.</span><span style="color:#7d9029">prompt_package_name</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#666">(</span>ViewGroup<span style="color:#666">)</span> findViewById<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">id</span><span style="color:#666">.</span><span style="color:#7d9029">packageNameInputGroup</span><span style="color:#666">),</span> <span style="color:#008000;font-weight:bold">false</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">final</span> EditText edTxtPackageName <span style="color:#666">=</span> viewInflated<span style="color:#666">.</span><span style="color:#7d9029">findViewById</span><span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">id</span><span style="color:#666">.</span><span style="color:#7d9029">edTxtPackageName</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setView</span><span style="color:#666">(</span>viewInflated<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setPositiveButton</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">option_confirm</span><span style="color:#666">),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> which<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#408080;font-style:italic">// Get the user provided package name
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>                String packageName <span style="color:#666">=</span> edTxtPackageName<span style="color:#666">.</span><span style="color:#7d9029">getText</span><span style="color:#666">().</span><span style="color:#7d9029">toString</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">switch</span> <span style="color:#666">(</span>type<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#008000;font-weight:bold">case</span> ADD_PACKAGE<span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>                        addPackageToExemptList<span style="color:#666">(</span>packageName<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#008000;font-weight:bold">break</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#008000;font-weight:bold">case</span> REMOVE_PACKAGE<span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>                        removePackageFromExemptList<span style="color:#666">(</span>packageName<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#008000;font-weight:bold">break</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#008000;font-weight:bold">case</span> CHECK_PACKAGE<span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>                        checkCCMEnabledForPackage<span style="color:#666">(</span>packageName<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#008000;font-weight:bold">break</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#008000;font-weight:bold">default</span><span style="color:#666">:</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#008000;font-weight:bold">break</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">});</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">setNegativeButton</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">option_cancel</span><span style="color:#666">),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">new</span> DialogInterface<span style="color:#666">.</span><span style="color:#7d9029">OnClickListener</span><span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a2f">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">public</span> <span style="color:#b00040">void</span> <span style="color:#00f">onClick</span><span style="color:#666">(</span>DialogInterface dialog<span style="color:#666">,</span> <span style="color:#b00040">int</span> which<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                dialog<span style="color:#666">.</span><span style="color:#7d9029">cancel</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">});</span>
</span></span><span style="display:flex;"><span>        builder<span style="color:#666">.</span><span style="color:#7d9029">show</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="add-package-to-the-exempt-list">Add package to the exempt list</h2>
<p>This method adds the given package name to the exempt list. This is required in case an app (running in background) needs access to certificates when the device or container is locked, or the user is not expected to enter a password. An example of a package that requires exemption is a third-party VPN application that needs to access certificates without user interaction.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">addPackageToExemptList</span> <span style="color:#666">(</span>String packageName<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Instantiate the EnterpriseKnoxManager class
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        EnterpriseKnoxManager enterpriseKnoxManager <span style="color:#666">=</span> EnterpriseKnoxManager<span style="color:#666">.</span><span style="color:#7d9029">getInstance</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Get the ClientCertificateManager where the addPackageToExemptList method lives
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        ClientCertificateManager clientCertificateManager <span style="color:#666">=</span> enterpriseKnoxManager<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span>                <span style="color:#00f">getClientCertificateManagerPolicy</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">try</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// attempt to add package name to exempt list
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#b00040">boolean</span> result <span style="color:#666">=</span> clientCertificateManager<span style="color:#666">.</span><span style="color:#7d9029">addPackageToExemptList</span><span style="color:#666">(</span>packageName<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>result<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">package_name_added_exempt_list_success</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">package_name_added_exempt_list_failed</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">catch</span> <span style="color:#666">(</span>SecurityException e<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            mUtils<span style="color:#666">.</span><span style="color:#7d9029">processException</span><span style="color:#666">(</span>e<span style="color:#666">,</span> TAG<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="remove-package-from-the-exempt-list">Remove package from the exempt list</h2>
<p>This method removes the given package name from the exempt list.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">removePackageFromExemptList</span> <span style="color:#666">(</span>String packageName<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Instantiate the EnterpriseKnoxManager class
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        EnterpriseKnoxManager enterpriseKnoxManager <span style="color:#666">=</span> EnterpriseKnoxManager<span style="color:#666">.</span><span style="color:#7d9029">getInstance</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Get the ClientCertificateManager where the removePackageFromExemptList method lives
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        ClientCertificateManager clientCertificateManager <span style="color:#666">=</span> enterpriseKnoxManager<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span>                <span style="color:#00f">getClientCertificateManagerPolicy</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">try</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// attempt to remove package name from exempt list
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#b00040">boolean</span> result <span style="color:#666">=</span> clientCertificateManager<span style="color:#666">.</span><span style="color:#7d9029">removePackageFromExemptList</span><span style="color:#666">(</span>packageName<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>result<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">package_name_remove_exempt_list_success</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">package_name_remove_exempt_list_failed</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">catch</span> <span style="color:#666">(</span>SecurityException e<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            mUtils<span style="color:#666">.</span><span style="color:#7d9029">processException</span><span style="color:#666">(</span>e<span style="color:#666">,</span> TAG<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="check-ccm-policy-for-a-package">Check CCM Policy for a package</h2>
<p>This method checks if a CCM policy is enabled for a package.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">checkCCMEnabledForPackage</span> <span style="color:#666">(</span>String packageName<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Instantiate the EnterpriseKnoxManager class
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        EnterpriseKnoxManager enterpriseKnoxManager <span style="color:#666">=</span> EnterpriseKnoxManager<span style="color:#666">.</span><span style="color:#7d9029">getInstance</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Get the ClientCertificateManager where the isCCMPolicyEnabledForPackage method lives
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        ClientCertificateManager clientCertificateManager <span style="color:#666">=</span> enterpriseKnoxManager<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span>                <span style="color:#00f">getClientCertificateManagerPolicy</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">try</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// check if a CCM policy is enabled for the package
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#b00040">boolean</span> result <span style="color:#666">=</span> clientCertificateManager<span style="color:#666">.</span><span style="color:#7d9029">isCCMPolicyEnabledForPackage</span><span style="color:#666">(</span>packageName<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>result<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">ccm_policy_enabled_for_package</span><span style="color:#666">,</span> packageName<span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">ccm_policy_not_enabled_for_package</span><span style="color:#666">,</span> packageName<span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">catch</span> <span style="color:#666">(</span>SecurityException e<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            mUtils<span style="color:#666">.</span><span style="color:#7d9029">processException</span><span style="color:#666">(</span>e<span style="color:#666">,</span> TAG<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="toggle-tima-keystore-state">Toggle TIMA Keystore state</h2>
<p>This method enables/disables the TIMA Keystore state.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">toggleTimaKeystoreState</span> <span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Instantiate the EnterpriseKnoxManager class
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        EnterpriseKnoxManager enterpriseKnoxManager <span style="color:#666">=</span> EnterpriseKnoxManager<span style="color:#666">.</span><span style="color:#7d9029">getInstance</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Get the TimaKeystore object where the enableTimaKeystore method lives
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        TimaKeystore timaKeystore <span style="color:#666">=</span> enterpriseKnoxManager<span style="color:#666">.</span><span style="color:#7d9029">getTimaKeystorePolicy</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">try</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// Check current status of the TimaKeystore
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#b00040">boolean</span> isTimaKeystoreEnabled <span style="color:#666">=</span> timaKeystore<span style="color:#666">.</span><span style="color:#7d9029">isTimaKeystoreEnabled</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>            mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span><span style="color:#ba2121">&#34;Attempting to toggle. Is enabled? &#34;</span> <span style="color:#666">+</span> isTimaKeystoreEnabled<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// Enable/disable the Tima Keystore
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#b00040">boolean</span> result <span style="color:#666">=</span> timaKeystore<span style="color:#666">.</span><span style="color:#7d9029">enableTimaKeystore</span><span style="color:#666">(!</span>isTimaKeystoreEnabled<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">if</span> <span style="color:#666">(</span>result<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">toggled_tima_keystore</span><span style="color:#666">,</span> <span style="color:#666">!</span>isTimaKeystoreEnabled<span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">else</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>                mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">failed_to_toggle_tima_keystore</span><span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">catch</span> <span style="color:#666">(</span>SecurityException e<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            mUtils<span style="color:#666">.</span><span style="color:#7d9029">processException</span><span style="color:#666">(</span>e<span style="color:#666">,</span> TAG<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="display-tima-keystore-status">Display TIMA Keystore status</h2>
<p>This method displays the TIMA Keystore status as &ldquo;enabled&rdquo; or &ldquo;disabled&rdquo;.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> <span style="color:#b00040">void</span> <span style="color:#00f">isTimaKeystoreEnabled</span> <span style="color:#666">()</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Instantiate the EnterpriseKnoxManager class
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        EnterpriseKnoxManager enterpriseKnoxManager <span style="color:#666">=</span> EnterpriseKnoxManager<span style="color:#666">.</span><span style="color:#7d9029">getInstance</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">this</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#408080;font-style:italic">// Get the TimaKeystore object where the enableTimaKeystore method lives
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>        TimaKeystore timaKeystore <span style="color:#666">=</span> enterpriseKnoxManager<span style="color:#666">.</span><span style="color:#7d9029">getTimaKeystorePolicy</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">try</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#408080;font-style:italic">// Check current status of the TimaKeystore
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>            <span style="color:#b00040">boolean</span> isTimaKeystoreEnabled <span style="color:#666">=</span> timaKeystore<span style="color:#666">.</span><span style="color:#7d9029">isTimaKeystoreEnabled</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>            mUtils<span style="color:#666">.</span><span style="color:#7d9029">log</span><span style="color:#666">(</span>getString<span style="color:#666">(</span>R<span style="color:#666">.</span><span style="color:#7d9029">string</span><span style="color:#666">.</span><span style="color:#7d9029">tima_keystore_status</span><span style="color:#666">,</span> isTimaKeystoreEnabled<span style="color:#666">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span> <span style="color:#008000;font-weight:bold">catch</span> <span style="color:#666">(</span>SecurityException e<span style="color:#666">)</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>            mUtils<span style="color:#666">.</span><span style="color:#7d9029">processException</span><span style="color:#666">(</span>e<span style="color:#666">,</span> TAG<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span></code></pre></div><h2 id="tutorial-progress">Tutorial progress</h2>
<p>You&rsquo;ve completed 6/7 steps!</p>
<a href="../run-sample-app.html"  class="btn d-inline-block button-subtle">Next</a>

            
          </div>
          <div class="l-toh">
            <h2 class="body-4 fw-bold mt-0">On this page</h2>
<aside class="table-of-headings">
  <nav id="TableOfContents">
  <ul>
    <li><a href="../manage-certificates.html#create-ccm-profile">Create CCM Profile</a></li>
    <li><a href="../manage-certificates.html#allowlist-all-packages">Allowlist all packages</a></li>
    <li><a href="../manage-certificates.html#allowlist-specific-packages">Allowlist specific packages</a></li>
    <li><a href="../manage-certificates.html#set-ccm-profile">Set CCM Profile</a></li>
    <li><a href="../manage-certificates.html#get-ccm-profile">Get CCM Profile</a></li>
    <li><a href="../manage-certificates.html#delete-ccm-profile">Delete CCM Profile</a></li>
    <li><a href="../manage-certificates.html#get-default-certificate-alias">Get default Certificate Alias</a></li>
    <li><a href="../manage-certificates.html#create-certificate">Create Certificate</a></li>
    <li><a href="../manage-certificates.html#configure-certificate">Configure Certificate</a></li>
    <li><a href="../manage-certificates.html#allow-packages-to-access-current-certificate">Allow packages to access current Certificate</a></li>
    <li><a href="../manage-certificates.html#set-certificate-path-and-password">Set Certificate path and password</a></li>
    <li><a href="../manage-certificates.html#install-certificate">Install Certificate</a></li>
    <li><a href="../manage-certificates.html#get-installed-packages">Get installed packages</a></li>
    <li><a href="../manage-certificates.html#prompt-user-to-delete-certificate">Prompt user to delete Certificate</a></li>
    <li><a href="../manage-certificates.html#delete-certificate">Delete certificate</a></li>
    <li><a href="../manage-certificates.html#prompt-user-for-a-package-name">Prompt user for a package name</a></li>
    <li><a href="../manage-certificates.html#add-package-to-the-exempt-list">Add package to the exempt list</a></li>
    <li><a href="../manage-certificates.html#remove-package-from-the-exempt-list">Remove package from the exempt list</a></li>
    <li><a href="../manage-certificates.html#check-ccm-policy-for-a-package">Check CCM Policy for a package</a></li>
    <li><a href="../manage-certificates.html#toggle-tima-keystore-state">Toggle TIMA Keystore state</a></li>
    <li><a href="../manage-certificates.html#display-tima-keystore-status">Display TIMA Keystore status</a></li>
    <li><a href="../manage-certificates.html#tutorial-progress">Tutorial progress</a></li>
  </ul>
</nav>
</aside>
          </div>
        </div> 
      </div><div>
  <div id="feedbackQuestion" class="py-4 border-top text-center">
    <p class="body-4 mb-2">Is this page helpful?</p>
    <button id="feedbackYes" class="button-icon me-4">
      <span class="button-thumbs-up pe-4"></span> YES
    </button>
    <button id="feedbackNo" class="button-icon">
      <span class="button-thumbs-down pe-4"></span> No
    </button>
  </div>
</div>

<div id="feedbackThanks" class="mt-6 border-top text-center" style="display: none">
  <p class="body-4 pt-4">Thank you for your feedback!</p>
</div>



    
  </main>
  
    <footer class="border-top">
  
  <div class="container footer">
    <div class="row g-0 footer-top-section">
      
      <div class="col-sm-12 col-md-6 col-lg-3 footer-vertical-section">
        <div class="d-flex justify-content-between align-items-center">
          <a class="footer-section-title" data-bs-toggle="collapse" href="../manage-certificates.html#item0" role="button" aria-expanded="false" aria-controls="item0"> 
            <h6 class="body-3 fw-bold text-uppercase text-black pt-4">Knox Developer documentation</h6>
          </a>
          <a class="btn-toggle d-inline-flex d-lg-none rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#item0" aria-expanded="false"></a>
        </div>
        <div class="d-lg-block collapse" id="item0">
          <ul class="nav flex-column">
            
            <li>
              <a
                href="../../../../fundamentals.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Fundamentals</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-sdk.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox SDK</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-pos-sdk.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox POS SDK</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-capture-sdk.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Capture SDK</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-tizen-sdk.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Tizen SDK</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-cloud-authentication.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Cloud Authentication</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-webhook-notification.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Webhook Notification</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-deployment-program.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Deployment Program</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-msp-portal.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox MSP Portal</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-mobile-enrollment.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Mobile Enrollment</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-configure.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Configure</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-manage.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Manage</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-attestation.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Attestation</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-guard.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Guard</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-asset-intelligence.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Asset Intelligence</a
              >
            </li>
            
            <li>
              <a
                href="../../../../managed-configurations.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Managed configurations</a
              >
            </li>
            
          </ul>
        </div>
      </div>
      
      <div class="col-sm-12 col-md-6 col-lg-3 footer-vertical-section">
        <div class="d-flex justify-content-between align-items-center">
          <a class="footer-section-title" data-bs-toggle="collapse" href="../manage-certificates.html#item1" role="button" aria-expanded="false" aria-controls="item1"> 
            <h6 class="body-3 fw-bold text-uppercase text-black pt-4">Support</h6>
          </a>
          <a class="btn-toggle d-inline-flex d-lg-none rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#item1" aria-expanded="false"></a>
        </div>
        <div class="d-lg-block collapse" id="item1">
          <ul class="nav flex-column">
            
            <li>
              <a
                href="https://developer.samsungknox.com/dashboard/support"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Submit a support ticket</a
              >
            </li>
            
          </ul>
        </div>
      </div>
      
      <div class="col-sm-12 col-md-6 col-lg-3 footer-vertical-section">
        <div class="d-flex justify-content-between align-items-center">
          <a class="footer-section-title" data-bs-toggle="collapse" href="../manage-certificates.html#item2" role="button" aria-expanded="false" aria-controls="item2"> 
            <h6 class="body-3 fw-bold text-uppercase text-black pt-4">Samsung</h6>
          </a>
          <a class="btn-toggle d-inline-flex d-lg-none rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#item2" aria-expanded="false"></a>
        </div>
        <div class="d-lg-block collapse" id="item2">
          <ul class="nav flex-column">
            
            <li>
              <a
                href="https://www.samsungknox.com/en"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Samsung Knox</a
              >
            </li>
            
            <li>
              <a
                href="https://partner.samsungknox.com/"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Samsung Knox Partner Program</a
              >
            </li>
            
            <li>
              <a
                href="https://developer.samsung.com/"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Samsung Knox Developer</a
              >
            </li>
            
          </ul>
        </div>
      </div>
      
    </div>
  </div>
  <div class="container py-4 border-bottom border-top">
    <p class="m-0"><small>Copyright © 1995-<script>document.write(new Date().getFullYear());</script><noscript>2023</noscript> SAMSUNG All Rights Reserved.</small></p>
  </div>
  <div class="container">
    <div class="footer-bottom-section-row">
      <div class="d-flex py-4 justify-content-between">
        <div class="d-flex align-items-center">
          
          <p class="m-0 footer-bottom-section-item">
            <a class="body-6 text-uppercase text-black" href="https://www2.samsungknox.com/en/privacy-policy-us">Privacy policy</a>
          </p>
          
          <p class="m-0 footer-bottom-section-item">
            <a class="body-6 text-uppercase text-black" href="https://www.samsungknox.com/en/legal">Legal</a>
          </p>
          
        </div>
      </div>
    </div>
  </div>
</footer>

  
</body>

</html>
