<!DOCTYPE html>
<html lang="en">





  






  
  
<head>
  <meta charset="utf-8">
  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CV8C3DHP6P"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-CV8C3DHP6P');
  </script>
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-54474000-1', 'auto'); 
    ga('send', 'pageview');
  </script>
  
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-P24TWCG');</script><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Step 1 — Get authorization code  | Knox cloud services authentication  | Samsung Knox Documentation</title>
  <meta http-equiv="content-language" content="en">
  <meta name="language" content="en">
  <script src="../../../../assets/js/bundle.js"></script>
  <link rel="stylesheet" href="../../../../styles/main.min.css">
  <link rel="icon" href="../../../../favicon.ico" type="image/x-icon">
  <link rel="icon" sizes="16x16" href="../../../../favicon-16x16.png" type="image/png">
  <link rel="icon" sizes="32x32" href="../../../../favicon-32x32.png" type="image/png">
  <link rel="manifest" href="../../../../manifest.json">
  <link rel="apple-touch-icon" sizes="180x180" href="../../../../apple-touch-icon.png">
  <link rel="mask-icon" href="../../../../safari-pinned-tab.svg" color="#5bbad5">
  <meta name="theme-color" content="white">
</head>
<body id=ZgotmplZ>
  
    

  

<script onload="initBot()" defer src="https://dc-chbt.samsungknox.com/copilot/index.js?noCache=1764789369"></script>
<script defer>
    function initBot(){
      const relPath = "\/knox-cloud-authentication\/knox-oauth-2-0-authentication\/for-uem-partners\/step-1-get-authorization-code\/";
      const prePath = relPath  === '/' ? "." : window.location.href.split(relPath)[0];
      window.chatbot.init("https:\/\/dc-chbt.samsungknox.com", prePath + "/assets/styles/chatbot.css");
    }
</script>
  
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24TWCG" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  
    <header>
  <div class="container-xxl border-bottom">
    <nav class="nav-top navbar navbar-expand-lg d-flex px-3">
        <a class="navbar-brand" href="../../../../index.html">
          <img src="../../../../svg/samsung_knox_doc_logo.svg" alt="Logo for Samsung Knox documentation">
        </a>
        <div class="collapse navbar-collapse">
          <ul class="row align-items-center ms-10 mb-0 p-0">
            
            
            <li class="navbar-nav col">
              <a href="../../../../../admin/index.html" class="body-4 text-black fw-light pe-auto me-6 text-decoration-none ">Admin</a>
            </li>
            
            <li class="navbar-nav col">
              <a href="../../../../index.html" class="body-4 text-black fw-light pe-auto me-6 text-decoration-none fw-bold border-bottom border-2 border-black">Developer</a>
            </li>
            
            <li class="navbar-nav col">
              <a href="../../../../../partner/index.html" class="body-4 text-black fw-light pe-auto me-3 text-decoration-none ">Partner</a>
            </li>
            
          </ul>
        </div>
        <div class="ms-auto">
          <div class="collapse navbar-collapse">
            <div class="head-search-wrapper ms-auto ">
              <script async src="https://cse.google.com/cse.js?cx=9119a64f9020430ac"></script>
<div class="gcse-search"></div>

            </div>
          </div>
        </div>
    </nav>
  </div>
</header>

  
  <main>
    
      <div class="container-xxl l-layout">
        <div class="l-sidebar pt-md-6">
          
<aside class="ps-2 pe-4">
  <div class="d-inline-block w-100 position-relative">
  <button id="guide-navigation-button" type="button" data-bs-toggle="collapse" data-bs-target="#guide-navigation" aria-controls="#guide-navigation" aria-expanded="false" class="dropdown-button border border-2">Samsung Knox developer guides</button>
  <div id="guide-navigation" class="collapse w-100 position-absolute dropdown">
    <nav aria-labelledby="guide-navigation-button" class="dropdown-content">
      <ul>
      <li>
  <a href="../../../../fundamentals" >Fundamentals</a>
  </li>
<li>
  <span>Device apps</span>
  <ul>
    <li>
  <a href="../../../../knox-sdk" >Knox SDK</a>
  <ul>
    </ul>
  </li>
<li>
  <a href="../../../../knox-pos-sdk" >Knox POS SDK</a>
  </li>
<li>
  <a href="../../../../knox-capture-sdk" >Knox Capture SDK</a>
  </li>
<li>
  <a href="../../../../knox-tizen-sdk" >Knox Tizen SDK</a>
  </li>
</ul>
  </li>
<li>
  <span>Web services</span>
  <ul>
    <li>
  <a href="../../../../knox-cloud-authentication" class="active-drop-item">Knox cloud services authentication</a>
  <ul>
    </ul>
  </li>
<li>
  <a href="../../../../knox-webhook-notification" >Knox Webhook Notification</a>
  <ul>
    </ul>
  </li>
<li>
  <a href="../../../../knox-deployment-program" >Knox Deployment Program</a>
  </li>
<li>
  <a href="../../../../knox-msp-portal" >Knox MSP Portal</a>
  </li>
<li>
  <a href="../../../../knox-mobile-enrollment" >Knox Mobile Enrollment</a>
  </li>
<li>
  <a href="../../../../knox-efota" >Knox E-FOTA</a>
  </li>
<li>
  <a href="../../../../knox-configure" >Knox Configure</a>
  </li>
<li>
  <a href="../../../../knox-manage" >Knox Manage</a>
  </li>
<li>
  <a href="../../../../knox-attestation" >Knox Attestation</a>
  </li>
<li>
  <a href="../../../../knox-guard" >Knox Guard</a>
  </li>
<li>
  <a href="../../../../knox-asset-intelligence" >Knox Asset Intelligence</a>
  </li>
</ul>
  </li>
<li>
  <a href="../../../../managed-configurations" >Managed configurations</a>
  </li>
</ul>
    </nav>
  </div>
</div><h3 class="body-3 mt-4 ps-2">Knox cloud services authentication</h3>
  <nav class="side-nav">
    <ul class="ps-2">
      
      
      <li>
        <div>
          <a class="body-5 text-black fw-light" href="../../../index.html">Introduction</a>
        </div>
      </li>
        
          
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-cloud-authentication-knox-cloud-authentication-knox-cloud-authentication" aria-expanded="false">
      <span class="body-5 text-black fw-light">Knox Cloud Authentication</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-cloud-authentication-knox-cloud-authentication-knox-cloud-authentication" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-cloud-authentication-knox-cloud-authentication-knox-cloud-authentication">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../knox-cloud-authentication/overview/index.html">Overview</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../knox-cloud-authentication/tutorial-for-customers-generate-access-token/index.html">For customers</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../knox-cloud-authentication/tutorial-for-msps-generate-an-access-token-for-your-knox-msp-program-tenant/index.html">For MSPs</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-cloud-authentication-knox-cloud-authentication-api-reference-api-reference" aria-expanded="false">
      <span class="body-5 text-black fw-light">API reference</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-cloud-authentication-knox-cloud-authentication-api-reference-api-reference" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-cloud-authentication-knox-cloud-authentication-api-reference-api-reference">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../knox-cloud-authentication/api-reference/api/index.html">Knox Cloud Authentication API reference</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../knox-cloud-authentication/troubleshooting-knox-cloud-services/index.html">Troubleshooting Knox cloud services</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../knox-cloud-authentication/release-notes/index.html">Release notes</a>
    </div>
      
    </li>
  </ul>
    </div></li>
  
        
          
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-cloud-authentication-knox-oauth-2-0-authentication-knox-oauth-2-0-authentication" aria-expanded="false">
      <span class="body-5 text-black fw-light">Knox OAuth 2.0 Authentication</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-cloud-authentication-knox-oauth-2-0-authentication-knox-oauth-2-0-authentication" aria-expanded="true"></a>
    </div>
      
    <div class="show" id="sub-knox-cloud-authentication-knox-oauth-2-0-authentication-knox-oauth-2-0-authentication">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../overview/index.html">Overview</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../register-new-app/index.html">Register new app</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-cloud-authentication-knox-oauth-2-0-authentication-for-customers-and-msps-for-customers-and-msps" aria-expanded="false">
      <span class="body-5 text-black fw-light">For customers and MSPs</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-cloud-authentication-knox-oauth-2-0-authentication-for-customers-and-msps-for-customers-and-msps" aria-expanded="false"></a>
    </div>
      
    <div class="collapse" id="sub-knox-cloud-authentication-knox-oauth-2-0-authentication-for-customers-and-msps-for-customers-and-msps">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../for-customers-and-msps/step-1-get-access-token/index.html">Step 1 — Get access token</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../for-customers-and-msps/step-2-call-knox-cloud-services-apis-with-access-token/index.html">Step 2 — Call Knox cloud services APIs with access token</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-cloud-authentication-knox-oauth-2-0-authentication-for-uem-partners-for-uem-partners" aria-expanded="false">
      <span class="body-5 text-black fw-light">For UEM partners</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-cloud-authentication-knox-oauth-2-0-authentication-for-uem-partners-for-uem-partners" aria-expanded="true"></a>
    </div>
      
    <div class="show" id="sub-knox-cloud-authentication-knox-oauth-2-0-authentication-for-uem-partners-for-uem-partners">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black active" href="index.html">Step 1 — Get authorization code</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../step-2-get-access-and-refresh-tokens/index.html">Step 2 — Get access and refresh tokens</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../step-3-call-knox-cloud-services-apis-with-access-token/index.html">Step 3 — Call Knox cloud services APIs with access token</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../step-4-refresh-access-token/index.html">Step 4 — Refresh access token</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../manage-registered-apps/index.html">Manage registered apps</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../scopes-for-knox-cloud-services-apis/index.html">Scopes for Knox cloud services APIs</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../knox-oauth-2-0-authentication-api/index.html">API reference</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../release-notes/index.html">Release notes</a>
    </div>
      
    </li>
  </ul>
    </div></li>
  
        
          
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../../kbas/index.html">KBAs</a>
    </div>
      
    </li>
  </ul>
  </nav>
</aside></div>
        <div class="l-main pt-md-6">
          
          <div class="l-content-top mb-4">
            <div class="l-breadcrumb">
              <a class="fw-light text-black" href="../../../../index.html">Home</a><span> /</span>
<a class="fw-light text-black" href="../../../index.html">Knox cloud services authentication</a><span> /</span>
<a class="fw-light text-black" href="../../index.html">Knox OAuth 2.0 Authentication</a><span> /</span>
<a class="fw-light text-black" href="../index.html">For UEMs</a><span> /</span>

            </div>
            <div class="mt-4">
              <h1>Step 1 — Get authorization code</h1>
            </div>
            

  <p><span>Last updated June  24th, 2024</span></p>


    

</div>
          <div class="l-content">
            

  




      
      
      
      
      
        
      
      
      
      
        <p>The authorization code grant type lets your registered app interact with the end user’s agent, typically a web browser, and receive incoming requests from the Knox authorization server through redirection.</p>
<p>When the end user provides consent for use of requested Knox cloud services APIs, the Knox authorization server issues an authorization code that is exchanged for the access and refresh tokens. These tokens are used to authenticate the Knox cloud services API requests, which your app makes on the behalf of your end user.</p>
<ol>
<li>
<p>First, your app directs the user-agent to the <a href="../../knox-oauth-2-0-authentication-api/index.html#tag/Authorization-server/operation/getAuthorize" target="_blank">GET /oauth2/authorize</a> operation with the request body parameters as shown in the following sample:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>https://api.samsungknox.com/ams/v1/oauth2/authorize? 
</span></span><span style="display:flex;"><span><span style="color:#19177c">response_type</span><span style="color:#666">=</span>code&amp; 
</span></span><span style="display:flex;"><span><span style="color:#19177c">client_id</span><span style="color:#666">=</span>example-client&amp; 
</span></span><span style="display:flex;"><span><span style="color:#19177c">scope</span><span style="color:#666">=</span>kai&amp; 
</span></span><span style="display:flex;"><span><span style="color:#19177c">redirect_uri</span><span style="color:#666">=</span>https://example-app.com/redirect&amp; 
</span></span><span style="display:flex;"><span><span style="color:#19177c">code_challenge</span><span style="color:#666">=</span>1234abcd123abCd1a2BCdaBCdab3cDABcdaBcDABcD&amp; 
</span></span><span style="display:flex;"><span><span style="color:#19177c">code_challenge_method</span><span style="color:#666">=</span>S256&amp; 
</span></span><span style="display:flex;"><span><span style="color:#19177c">state</span><span style="color:#666">=</span>abcde
</span></span></code></pre></div><p>The authorization code request sample must:</p>
<ul>
<li>
<p>Include your app&rsquo;s <strong>client_id</strong>.</p>
</li>
<li>
<p>Include the <strong>scope</strong> to define the scope of the access request. See <a href="../../scopes-for-knox-cloud-services-apis">scopes for Knox cloud services APIs</a> for the list of available scopes.</p>
</li>
<li>
<p>Include the redirect URL (<strong>redirect_uri</strong>) that you specified when creating your app.</p>
</li>
<li>
<p>Include a <strong>code_challenge</strong> as per the PKCE protocol. It&rsquo;s required to use this, to prevent you from engaging in insecure end-user flows.</p>
<ol>
<li>
<p>First, generate a code verifier, according to the Proof Key for Code Exchange (PKCE) protocol, it is a high-entropy cryptographic random string with a length between 43 and 128 characters. It can contain letters, digits, underscores, periods, hyphens, or tildes.</p>
</li>
<li>
<p>Hash  the generated code verifier using SHA-256 code challenge method.</p>
</li>
</ol>
<div class="notice-note"><p>The PKCE is a security enhancement for the OAuth 2.0 authorization framework. Ensure that your app stores the code verifier in the backend only, and never sends or exposes it through the frontend or web browser. The best practices to securely store the PKCE code verifier in your app are as follows:</p><ul><li><p><strong>Secure database</strong>: Use a secure database with robust credentials.</p></li><li><p><strong>Secure transmission</strong>: Transmit the code verifier over a secure, encrypted channel.</p></li><li><p><strong>Rotation or deletion</strong>: Promptly delete or replace the code verifier after using it one-time only.</p></li></ul></div>
</li>
</ul>
<p>The following are some examples of how to generate the code verifier and code challenge:</p>
<ul
  class="nav nav-tabs d-flex align-items-center mt-3"
  id="nav-tabs"
  role="tablist"
>
   
   
   
  
   
  
  <li class="nav-item" role="presentation">
    <button
      class="tab-link active px-3 py-2 rounded-5"
      id="tab-1-tab"
      data-bs-toggle="tab"
      data-bs-target="#tab-1"
      type="button"
      role="tab"
      aria-controls="tab-1"
      aria-selected="true"
    >Bash example
    </button>
  </li>
   
  
  <li class="nav-item" role="presentation">
    <button
      class="tab-link  px-3 py-2 rounded-5"
      id="tab-2-tab"
      data-bs-toggle="tab"
      data-bs-target="#tab-2"
      type="button"
      role="tab"
      aria-controls="tab-2"
      aria-selected="true"
    >Java example
    </button>
  </li>
  </ul>
<div class="tab-content mb-6" id="nav-tab-content">
    

  
  



<div class="tab-pane fade  show active  border border-grey-line rounded-3 overflow-hidden" id="tab-1" role="tabpanel" aria-labelledby="tab-1-tab">
  
  
  <div class="tab-content p-3"><div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#bc7a00">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#bc7a00"></span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"># Generate random code verifier</span>
</span></span><span style="display:flex;"><span><span style="color:#19177c">code_verifier</span><span style="color:#666">=</span><span style="color:#008000;font-weight:bold">$(</span>openssl rand -hex 32<span style="color:#008000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"># Hash and base64 url encode code verifier </span>
</span></span><span style="display:flex;"><span><span style="color:#19177c">code_challenge</span><span style="color:#666">=</span><span style="color:#008000;font-weight:bold">$(</span><span style="color:#008000">echo</span> -n <span style="color:#ba2121">&#34;</span><span style="color:#19177c">$code_verifier</span><span style="color:#ba2121">&#34;</span> | openssl dgst -sha256 -binary | base64 | tr <span style="color:#ba2121">&#39;/+&#39;</span> <span style="color:#ba2121">&#39;_-&#39;</span> | tr -d <span style="color:#ba2121">&#39;=&#39;</span><span style="color:#008000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#008000">echo</span> <span style="color:#ba2121">&#34;Code Verifier: </span><span style="color:#19177c">$code_verifier</span><span style="color:#ba2121">&#34;</span>  
</span></span><span style="display:flex;"><span><span style="color:#008000">echo</span> <span style="color:#ba2121">&#34;Code Challenge: </span><span style="color:#19177c">$code_challenge</span><span style="color:#ba2121">&#34;</span>
</span></span></code></pre></div>
  </div>
  
</div>
    

  
  



<div class="tab-pane fade  border border-grey-line rounded-3 overflow-hidden" id="tab-2" role="tabpanel" aria-labelledby="tab-2-tab">
  
  
  <div class="tab-content p-3"><div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">import</span> <span style="color:#00f;font-weight:bold">java.security.MessageDigest</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">import</span> <span style="color:#00f;font-weight:bold">java.security.NoSuchAlgorithmException</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">import</span> <span style="color:#00f;font-weight:bold">java.security.SecureRandom</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">import</span> <span style="color:#00f;font-weight:bold">java.util.Base64</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">public</span> <span style="color:#008000;font-weight:bold">class</span> <span style="color:#00f;font-weight:bold">PKCEGenerator</span> <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">public</span> <span style="color:#008000;font-weight:bold">static</span> <span style="color:#b00040">void</span> <span style="color:#00f">main</span><span style="color:#666">(</span>String<span style="color:#666">[]</span> args<span style="color:#666">)</span> <span style="color:#008000;font-weight:bold">throws</span> NoSuchAlgorithmException <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#408080;font-style:italic">// Generate a secure random code verifier
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>    SecureRandom sr <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">new</span> SecureRandom<span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#b00040">byte</span><span style="color:#666">[]</span> code <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">new</span> <span style="color:#b00040">byte</span><span style="color:#666">[</span><span style="color:#666">32</span><span style="color:#666">];</span>
</span></span><span style="display:flex;"><span>    sr<span style="color:#666">.</span><span style="color:#7d9029">nextBytes</span><span style="color:#666">(</span>code<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>    String codeVerifier <span style="color:#666">=</span> Base64<span style="color:#666">.</span><span style="color:#7d9029">getUrlEncoder</span><span style="color:#666">().</span><span style="color:#7d9029">withoutPadding</span><span style="color:#666">().</span><span style="color:#7d9029">encodeToString</span><span style="color:#666">(</span>code<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#408080;font-style:italic">// Generate a code challenge from the code verifier    
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span>    MessageDigest md <span style="color:#666">=</span> MessageDigest<span style="color:#666">.</span><span style="color:#7d9029">getInstance</span><span style="color:#666">(</span><span style="color:#ba2121">&#34;SHA-256&#34;</span><span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#b00040">byte</span><span style="color:#666">[]</span> digest <span style="color:#666">=</span> md<span style="color:#666">.</span><span style="color:#7d9029">digest</span><span style="color:#666">(</span>codeVerifier<span style="color:#666">.</span><span style="color:#7d9029">getBytes</span><span style="color:#666">());</span>
</span></span><span style="display:flex;"><span>    String codeChallenge <span style="color:#666">=</span> Base64<span style="color:#666">.</span><span style="color:#7d9029">getUrlEncoder</span><span style="color:#666">().</span><span style="color:#7d9029">withoutPadding</span><span style="color:#666">().</span><span style="color:#7d9029">encodeToString</span><span style="color:#666">(</span>digest<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    System<span style="color:#666">.</span><span style="color:#7d9029">out</span><span style="color:#666">.</span><span style="color:#7d9029">println</span><span style="color:#666">(</span><span style="color:#ba2121">&#34;Code Verifier: &#34;</span> <span style="color:#666">+</span> codeVerifier<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#666">.</span><span style="color:#7d9029">out</span><span style="color:#666">.</span><span style="color:#7d9029">println</span><span style="color:#666">(</span><span style="color:#ba2121">&#34;Code Challenge: &#34;</span> <span style="color:#666">+</span> codeChallenge<span style="color:#666">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#666">}</span>
</span></span><span style="display:flex;"><span><span style="color:#666">}</span>
</span></span></code></pre></div>
  </div>
  
</div>
    </div>
<ul>
<li>
<p>Specify <strong>code_challenge_method</strong>. Knox authorization server supports only SHA-256: <strong>code_challenge_method</strong>=S256.</p>
</li>
<li>
<p>The <strong>state</strong> parameter, specifies an opaque value, and is a random string used by the client to maintain the state between the request and callback. The authorization server includes this value when redirecting the user-agent back to the client. It&rsquo;s mandatory to use this parameter, it provides protection against certain attacks, such as Cross-Site Request Forgery (CSRF).</p>
</li>
</ul>
</li>
<li>
<p>Knox authorization server authenticates your end user, using Samsung Account or other identity provider, and obtains their consent for you to manage their Knox cloud services resources.</p>
<p>When the end user provides consent, they&rsquo;re redirected to your app&rsquo;s redirect URL with the authorization code and the state parameter. Ensure that the value of <strong>state</strong> parameter is what you initially specified in the authorization code request.</p>
<p>Redirect URL example:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="">https:</span><span style="color:#408080;font-style:italic">//example-app.com/redirect?code=abcdefghijKL&amp;state=abcde
</span></span></span></code></pre></div></li>
</ol>
<p>For more information, see <a href="../../knox-oauth-2-0-authentication-api">Knox OAuth 2.0 Authentication API</a>.</p>

            
          </div>
          <div class="l-toh">
            
  

          </div>
        </div> 
      </div><div>
  <div id="feedbackQuestion" class="py-4 border-top text-center">
    <p class="body-4 mb-2">Is this page helpful?</p>
    <button id="feedbackYes" class="button-icon me-4">
      <span class="button-thumbs-up pe-4"></span> YES
    </button>
    <button id="feedbackNo" class="button-icon">
      <span class="button-thumbs-down pe-4"></span> No
    </button>
  </div>
</div>

<div id="feedbackThanks" class="mt-6 border-top text-center" style="display: none">
  <p class="body-4 pt-4">Thank you for your feedback!</p>
</div>



    
  </main>
  
    <footer class="border-top">
  
  <div class="container footer">
    <div class="row g-0 footer-top-section">
      
      <div class="col-sm-12 col-md-6 col-lg-3 footer-vertical-section">
        <div class="d-flex justify-content-between align-items-center">
          <a class="footer-section-title" data-bs-toggle="collapse" href="#item0" role="button" aria-expanded="false" aria-controls="item0"> 
            <h6 class="body-3 fw-bold text-uppercase text-black pt-4">Knox Developer documentation</h6>
          </a>
          <a class="btn-toggle d-inline-flex d-lg-none rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#item0" aria-expanded="false"></a>
        </div>
        <div class="d-lg-block collapse" id="item0">
          <ul class="nav flex-column">
            
            <li>
              <a
                href="../../../../fundamentals"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Fundamentals</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-sdk"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox SDK</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-pos-sdk"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox POS SDK</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-capture-sdk"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Capture SDK</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-tizen-sdk"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Tizen SDK</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-cloud-authentication"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Cloud Authentication</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-webhook-notification"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Webhook Notification</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-deployment-program"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Deployment Program</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-msp-portal"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox MSP Portal</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-mobile-enrollment"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Mobile Enrollment</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-configure"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Configure</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-manage"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Manage</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-attestation"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Attestation</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-guard"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Guard</a
              >
            </li>
            
            <li>
              <a
                href="../../../../knox-asset-intelligence"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Asset Intelligence</a
              >
            </li>
            
            <li>
              <a
                href="../../../../managed-configurations"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Managed configurations</a
              >
            </li>
            
          </ul>
        </div>
      </div>
      
      <div class="col-sm-12 col-md-6 col-lg-3 footer-vertical-section">
        <div class="d-flex justify-content-between align-items-center">
          <a class="footer-section-title" data-bs-toggle="collapse" href="#item1" role="button" aria-expanded="false" aria-controls="item1"> 
            <h6 class="body-3 fw-bold text-uppercase text-black pt-4">Support</h6>
          </a>
          <a class="btn-toggle d-inline-flex d-lg-none rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#item1" aria-expanded="false"></a>
        </div>
        <div class="d-lg-block collapse" id="item1">
          <ul class="nav flex-column">
            
            <li>
              <a
                href="https://developer.samsungknox.com/dashboard/support"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Submit a support ticket</a
              >
            </li>
            
          </ul>
        </div>
      </div>
      
      <div class="col-sm-12 col-md-6 col-lg-3 footer-vertical-section">
        <div class="d-flex justify-content-between align-items-center">
          <a class="footer-section-title" data-bs-toggle="collapse" href="#item2" role="button" aria-expanded="false" aria-controls="item2"> 
            <h6 class="body-3 fw-bold text-uppercase text-black pt-4">Samsung</h6>
          </a>
          <a class="btn-toggle d-inline-flex d-lg-none rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#item2" aria-expanded="false"></a>
        </div>
        <div class="d-lg-block collapse" id="item2">
          <ul class="nav flex-column">
            
            <li>
              <a
                href="https://www.samsungknox.com/en"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Samsung Knox</a
              >
            </li>
            
            <li>
              <a
                href="https://partner.samsungknox.com/"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Samsung Knox Partner Program</a
              >
            </li>
            
            <li>
              <a
                href="https://developer.samsung.com/"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Samsung Knox Developer</a
              >
            </li>
            
          </ul>
        </div>
      </div>
      
    </div>
  </div>
  <div class="container py-4 border-bottom border-top">
    <p class="m-0"><small>Copyright © 1995-<script>document.write(new Date().getFullYear());</script><noscript>2023</noscript> SAMSUNG All Rights Reserved.</small></p>
  </div>
  <div class="container">
    <div class="footer-bottom-section-row">
      <div class="d-flex py-4 justify-content-between">
        <div class="d-flex align-items-center">
          
          <p class="m-0 footer-bottom-section-item">
            <a class="body-6 text-uppercase text-black" href="https://www2.samsungknox.com/en/privacy-policy-us">Privacy policy</a>
          </p>
          
          <p class="m-0 footer-bottom-section-item">
            <a class="body-6 text-uppercase text-black" href="https://www.samsungknox.com/en/legal">Legal</a>
          </p>
          
        </div>
      </div>
    </div>
  </div>
</footer>

  
</body>

</html>
