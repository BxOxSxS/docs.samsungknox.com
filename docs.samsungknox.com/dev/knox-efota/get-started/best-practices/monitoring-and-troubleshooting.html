<!DOCTYPE html>
<html lang="en">





  





  
  
<head>
  <meta charset="utf-8">
  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CV8C3DHP6P"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-CV8C3DHP6P');
  </script>
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-54474000-1', 'auto'); 
    ga('send', 'pageview');
  </script>
  
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-P24TWCG');</script><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Device monitoring and troubleshooting  | Knox E-FOTA  | Samsung Knox Documentation</title>
  <meta http-equiv="content-language" content="en">
  <meta name="language" content="en">
  <script src="../../../assets/js/bundle.js"></script>
  <link rel="stylesheet" href="../../../styles/main.min.css">
  <link rel="icon" href="../../../favicon.ico" type="image/x-icon">
  <link rel="icon" sizes="16x16" href="../../../favicon-16x16.png" type="image/png">
  <link rel="icon" sizes="32x32" href="../../../favicon-32x32.png" type="image/png">
  <link rel="manifest" href="../../../manifest.json">
  <link rel="apple-touch-icon" sizes="180x180" href="../../../apple-touch-icon.png">
  <link rel="mask-icon" href="../../../safari-pinned-tab.svg" color="#5bbad5">
  <meta name="theme-color" content="white">
</head>
<body id=ZgotmplZ>
  
  
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24TWCG" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <a id="back-to-top-button" class="button-back-to-top">Back to top</a>
  
  
    <header>
  <div class="container-xxl border-bottom">
    <nav class="nav-top navbar navbar-expand-lg d-flex px-3">
        <a class="navbar-brand" href="../../../index.html">
          <img src="../../../svg/samsung_knox_doc_logo.svg" alt="Logo for Samsung Knox documentation">
        </a>
        <div class="collapse navbar-collapse">
          <ul class="row align-items-center ms-10 mb-0 p-0">
            
            
            <li class="navbar-nav col">
              <a href="../../../../admin/index.html" class="body-4 text-black fw-light pe-auto me-6 text-decoration-none ">Admin</a>
            </li>
            
            <li class="navbar-nav col">
              <a href="../../../index.html" class="body-4 text-black fw-light pe-auto me-6 text-decoration-none fw-bold border-bottom border-2 border-black">Developer</a>
            </li>
            
            <li class="navbar-nav col">
              <a href="../../../../partner/index.html" class="body-4 text-black fw-light pe-auto me-3 text-decoration-none ">Partner</a>
            </li>
            
          </ul>
        </div>
        <div class="ms-auto">
          <div class="collapse navbar-collapse">
            <div class="head-search-wrapper ms-auto ">
              <script async src="https://cse.google.com/cse.js?cx=9119a64f9020430ac"></script>
<div class="gcse-search"></div>

            </div>
          </div>
        </div>
    </nav>
  </div>
</header>

  
  <main>
    
      <div class="container-xxl l-layout">
        <div class="l-sidebar pt-md-6">
          
<aside class="ps-2 pe-4">
  <div class="d-inline-block w-100 position-relative">
  <button id="guide-navigation-button" type="button" data-bs-toggle="collapse" data-bs-target="#guide-navigation" aria-controls="#guide-navigation" aria-expanded="false" class="dropdown-button border border-2">Samsung Knox developer guides</button>
  <div id="guide-navigation" class="collapse w-100 position-absolute dropdown">
    <nav aria-labelledby="guide-navigation-button" class="dropdown-content">
      <ul>
      <li>
  <a href="../../../fundamentals.html" >Fundamentals</a>
  </li>
<li>
  <span>Device apps</span>
  <ul>
    <li>
  <a href="../../../knox-sdk.html" >Knox SDK</a>
  <ul>
    </ul>
  </li>
<li>
  <a href="../../../knox-pos-sdk.html" >Knox POS SDK</a>
  </li>
<li>
  <a href="../../../knox-capture-sdk.html" >Knox Capture SDK</a>
  </li>
<li>
  <a href="../../../knox-tizen-sdk.html" >Knox Tizen SDK</a>
  </li>
</ul>
  </li>
<li>
  <span>Web services</span>
  <ul>
    <li>
  <a href="../../../knox-cloud-authentication.html" >Knox cloud services authentication</a>
  <ul>
    </ul>
  </li>
<li>
  <a href="../../../knox-webhook-notification.html" >Knox Webhook Notification</a>
  <ul>
    </ul>
  </li>
<li>
  <a href="../../../knox-deployment-program.html" >Knox Deployment Program</a>
  </li>
<li>
  <a href="../../../knox-msp-portal.html" >Knox MSP Portal</a>
  </li>
<li>
  <a href="../../../knox-mobile-enrollment.html" >Knox Mobile Enrollment</a>
  </li>
<li>
  <a href="../../../knox-efota.html" class="active-drop-item">Knox E-FOTA</a>
  </li>
<li>
  <a href="../../../knox-configure.html" >Knox Configure</a>
  </li>
<li>
  <a href="../../../knox-manage.html" >Knox Manage</a>
  </li>
<li>
  <a href="../../../knox-attestation.html" >Knox Attestation</a>
  </li>
<li>
  <a href="../../../knox-guard.html" >Knox Guard</a>
  </li>
<li>
  <a href="../../../knox-asset-intelligence.html" >Knox Asset Intelligence</a>
  </li>
</ul>
  </li>
<li>
  <a href="../../../managed-configurations.html" >Managed configurations</a>
  </li>
</ul>
    </nav>
  </div>
</div><h3 class="body-3 mt-4 ps-2">Knox E-FOTA</h3>
  <nav class="side-nav">
    <ul class="ps-2">
      
      
      <li>
        <div>
          <a class="body-5 text-black fw-light" href="../../../knox-efota.html">Introduction</a>
        </div>
      </li>
        
          
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-efota-get-started-get-started" aria-expanded="false">
      <span class="body-5 text-black fw-light">Get started</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-efota-get-started-get-started" aria-expanded="true"></a>
    </div>
      
    <div class="show" id="sub-knox-efota-get-started-get-started">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../overview/index.html">Overview</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../authentication-for-knox-efota.html">Authentication for Knox E-FOTA</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between cursor-pointer" data-bs-toggle="collapse" data-bs-target="#sub-knox-efota-get-started-best-practices-best-practices" aria-expanded="false">
      <span class="body-5 text-black fw-light">Knox E-FOTA best practices</span>
      <a class="btn-toggle d-inline-flex rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#sub-knox-efota-get-started-best-practices-best-practices" aria-expanded="true"></a>
    </div>
      
    <div class="show" id="sub-knox-efota-get-started-best-practices-best-practices">
      <ul>
      
      
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="knox-efota-workflow.html">Knox E-FOTA workflow</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="licenses-and-devices.html">Licenses and devices</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="campaigns-and-firmware.html">Campaigns and firmware</a>
    </div>
    
    </li>
  
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black active" href="monitoring-and-troubleshooting.html">Monitoring and troubleshooting</a>
    </div>
    
    </li>
  </ul>
    </div></li>
  </ul>
    </div></li>
  
        
          
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../api.html">API reference</a>
    </div>
    
    </li>
  
        
          
  
  
    <li class="mt-2">
    
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../error-codes.html">Error codes</a>
    </div>
    
    </li>
  
        
          
  
  
    <li class="mt-2">
    
    <div class="d-flex justify-content-between">
      <a class="body-5 text-black fw-light" href="../../release-notes.html">Release notes</a>
    </div>
      
    </li>
  </ul>
  </nav>
</aside></div>
        <div class="l-main pt-md-6">
          
          <div class="l-content-top mb-4">
            <div class="l-breadcrumb">
              <a class="fw-light text-black" href="../../../index.html">Home</a><span> /</span>
<a class="fw-light text-black" href="../../../knox-efota.html">Knox E-FOTA</a><span> /</span>
<a class="fw-light text-black" href="../../get-started.html">Get started</a><span> /</span>
<a class="fw-light text-black" href="index.html">Knox E-FOTA best practices</a><span> /</span>

            </div>
            <div class="mt-4">
              <h1>Device monitoring and troubleshooting</h1>
            </div>
            

  <p><span>Last updated September  12th, 2024</span></p>


    

</div>
          <div class="l-content">
            

  




      
      
      
      
        
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
        
      
      
      
      
        
      
      
      
      
        <p>We recommend providing your customer with the means to monitor the state of their Knox E-FOTA device fleet. This way, they can identify if there are any problem devices, or issues with firmware rollout, and take steps to troubleshoot them. The Knox E-FOTA API provides tools to track device fleet status, and identify issues with devices.</p>
<h2 id="reporting-device-status-in-the-device-list">Reporting device status in the device list</h2>
<p>The list of devices returned from <a href="../../api.html#tag/Device/paths/~1devices~1getDevices/post">POST /devices/getDevices</a> includes detailed information about each device, including the status of the device, which can indicate whether a device requires extra attention.</p>
<p>There are 3 types of device statuses provided by Knox E-FOTA:</p>
<ul>
<li>Operation status</li>
<li>Client status</li>
<li>Update status</li>
</ul>
<h3 id="operation-status">Operation status</h3>
<p>This status indicates whether the device is awaiting upload or campaign syncs, and also indicates the state of the license. Here are the possible operation statuses, categorized by their importance:</p>
<p>Attention</p>
<ul>
<li>InvalidLicense</li>
<li>CampaignSyncExpected</li>
</ul>
<p>No action needed</p>
<ul>
<li>Pending</li>
<li>CampaignSynced</li>
<li>NoLicenseAssigned</li>
<li>LicenseAssigned</li>
</ul>
<h3 id="client-status">Client status</h3>
<p>This status indicates whether the Knox E-FOTA client on the device is running properly, and what operations it is performing, including firmware downloads and installation. If a device&rsquo;s Knox E-FOTA client is in an error state, <a href="../../api.html#tag/Device/paths/~1devices~1getDevices/post">POST /devices/getDevices</a> also returns the Knox E-FOTA client error code in the <code>agentError</code> response field. We provide documentation on these <a href="../../../../admin/knox-efota/troubleshoot/error-codes.html" target="_blank">Knox E-FOTA client error codes</a>, which also include troubleshooting steps your customer can try to resolve the client error they are facing.</p>
<p>Here are the possible client statuses, categorized by status:</p>
<p>Error</p>
<ul>
<li>FailedToDownload</li>
<li>FailedToEnroll</li>
<li>FailedToInstall</li>
<li>CampaignError</li>
<li>InvalidFirmware</li>
</ul>
<p>In-progress of an operation</p>
<ul>
<li>AwaitingForDownload</li>
<li>AwaitingForInstall</li>
<li>InprogressDownloading</li>
<li>InprogressInstalling</li>
<li>Reverting</li>
</ul>
<p>Operation completed</p>
<ul>
<li>HigherFirmware</li>
<li>LockedFirmware</li>
<li>Updated</li>
</ul>
<p>No action needed</p>
<ul>
<li>Enrolled</li>
<li>Not enrolled</li>
</ul>
<h3 id="update-status">Update status</h3>
<p>This status gives your customers a heads-up overview of what actions they may need to take. The <strong>Update status</strong> is determined using the operation status and client status.</p>
<p>Here are the update statuses:</p>
<ul>
<li>Completed: No operations are pending.</li>
<li>Inprogress: Preparing for, or in the process of a firmware download or installation.</li>
<li>Attention: Your customer needs to take action.</li>
<li>Error: Encountered an error with firmware downloads or installation, or there is a campaign or enrollment error.</li>
</ul>
<p>Here is an example of how the Knox E-FOTA portal shows the device update status, along with the operation and client status counts in each update status.</p>








<p><img src="../../assets/device-update-status-dashboard.png" class="img-fluid img-thumbnail" alt="Knox E-FOTA portal dashboard" /></p>
<h3 id="knox-webhook-notification-for-device-status-changes">Knox Webhook Notification for device status changes</h3>
<p>Instead of having to call the Knox E-FOTA API to get device status changes, you can subscribe to the <code>KE_DEVICE_STATUS_CHANGE</code> event on Knox Webhook Notification. With this set up, Knox Webhook Notification will send your UEM app a notification whenever one of your customer&rsquo;s devices change statuses, and you can use this to update your UI to show your customers the latest status of their devices without having to call the Knox E-FOTA API.</p>
<p>For more information, see the <a href="../../../knox-webhook-notification/tutorial/knox-webhook-notification-for-knox-efota.html">Knox Webhook Notification tutorial for Knox E-FOTA</a>.</p>
<p>Here is a Java code sample that subscribes to this event on Knox Webhook Notification:</p>

<div class="accordion  mt-6 mb-4">
  <div>







<div id="force-client-refresh-sample" class="accordion-item">
  <h4 class="body-3  mt-0 " id="panelsStayOpen-heading1-0">
    <button
        class="accordion-button accordion-header fw-bold text-grey  collapsed "
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#panelsStayOpen-collapse1-0"
        aria-expanded="false"
        aria-controls="panelsStayOpen-collapse1-0"
    >
      <div>Code sample
      </div>
    </button>
  </h4>
  <div
      id="panelsStayOpen-collapse1-0"
      class="accordion-collapse collapse "
      aria-labelledby="panelsStayOpen-heading1-0"
    >
      <div class="accordion-body text-grey"><div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> HttpResponse<span style="color:#666">&lt;</span>String<span style="color:#666">&gt;</span> <span style="color:#00f">createDeviceStatusChangeSubscription</span><span style="color:#666">(</span>String callbackUrl<span style="color:#666">)</span> <span style="color:#008000;font-weight:bold">throws</span> URISyntaxException<span style="color:#666">,</span> IOException<span style="color:#666">,</span> InterruptedException <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>    String subscriptionUrl <span style="color:#666">=</span> WEBHOOK_URI <span style="color:#666">+</span> <span style="color:#ba2121">&#34;subscriptions&#34;</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>    String body <span style="color:#666">=</span> <span style="color:#ba2121">&#34;{\n&#34;</span> <span style="color:#666">+</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#34;\&#34;url\&#34;: &#34;</span> <span style="color:#666">+</span> callbackUrl <span style="color:#666">+</span> <span style="color:#ba2121">&#34;,\n&#34;</span> <span style="color:#666">+</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#34;\&#34;events\&#34;: [\n&#34;</span> <span style="color:#666">+</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#34;\&#34;KE_DEVICE_STATUS_CHANGE\&#34;\n&#34;</span> <span style="color:#666">+</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#34;]\n&#34;</span> <span style="color:#666">+</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#34;}&#34;</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>    HttpClient client <span style="color:#666">=</span> HttpClient<span style="color:#666">.</span><span style="color:#7d9029">newHttpClient</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    HttpRequest request <span style="color:#666">=</span> HttpRequest<span style="color:#666">.</span><span style="color:#7d9029">newBuilder</span><span style="color:#666">()</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">.</span><span style="color:#7d9029">uri</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">new</span> URI<span style="color:#666">(</span>subscriptionUrl<span style="color:#666">))</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">.</span><span style="color:#7d9029">POST</span><span style="color:#666">(</span>HttpRequest<span style="color:#666">.</span><span style="color:#7d9029">BodyPublishers</span><span style="color:#666">.</span><span style="color:#7d9029">ofString</span><span style="color:#666">(</span>body<span style="color:#666">))</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">.</span><span style="color:#7d9029">headers</span><span style="color:#666">(</span><span style="color:#ba2121">&#34;Content-Type&#34;</span><span style="color:#666">,</span> <span style="color:#ba2121">&#34;application/json;charset=UTF-8&#34;</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#ba2121">&#34;Authorization&#34;</span><span style="color:#666">,</span> <span style="color:#ba2121">&#34;Bearer &#34;</span> <span style="color:#666">+</span> accessToken<span style="color:#666">)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">.</span><span style="color:#7d9029">build</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">return</span> client<span style="color:#666">.</span><span style="color:#7d9029">send</span><span style="color:#666">(</span>request<span style="color:#666">,</span> HttpResponse<span style="color:#666">.</span><span style="color:#7d9029">BodyHandlers</span><span style="color:#666">.</span><span style="color:#7d9029">ofString</span><span style="color:#666">());</span>
</span></span><span style="display:flex;"><span><span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Response sample<span style="color:#666">:</span>
</span></span><span style="display:flex;"><span><span style="color:#666">{</span> <span style="color:#ba2121">&#34;payload&#34;</span><span style="color:#666">:</span> <span style="color:#666">{</span> <span style="color:#ba2121">&#34;id&#34;</span><span style="color:#666">:</span> <span style="color:#ba2121">&#34;636c1a692d0f427ee1f07470&#34;</span><span style="color:#666">,</span> <span style="color:#ba2121">&#34;url&#34;</span><span style="color:#666">:</span> <span style="color:#ba2121">&#34;https://some.domain/kwn-results&#34;</span><span style="color:#666">,</span> <span style="color:#ba2121">&#34;events&#34;</span><span style="color:#666">:</span> <span style="color:#666">[</span> <span style="color:#ba2121">&#34;KE_DEVICE_STATUS_CHANGE&#34;</span> <span style="color:#666">]</span> <span style="color:#666">}</span> <span style="color:#666">}</span>
</span></span></code></pre></div></div>
    </div>
</div>
</div>
</div>

<h2 id="device-and-activity-log">Device and activity log</h2>
<p>To further improve your customer&rsquo;s user experience, we recommend implementing an activity log and a device log.</p>
<p>An activity log can show all actions performed on your UEM portal by your customer that affected the status of Knox E-FOTA campaigns or devices. The log can show each action, the timestamp of the action, and which user made that action on your UEM portal.</p>
<p>A device log can show all events which have occurred on a device. For each event, the log can show the resulting device state, along with a timestamp. This log should be available for all devices in your customer&rsquo;s Knox E-FOTA device pool.</p>
<h2 id="force-client-refresh">Force client refresh</h2>
<p>Knox E-FOTA provides a feature to refresh the client app on your customer&rsquo;s fleet of devices.</p>
<p>Firmware updates are complicated processes. Often times, devices may be stuck in an unexpected state, preventing them from properly performing firmware updates. If this problem occurs, your customer can force the Knox E-FOTA client app on their devices to refresh, which pushes the latest campaign to the devices, and deletes any firmware that has been downloaded but not yet installed.</p>
<p>Use <a href="../../api.html#tag/Device/paths/~1devices~1bulkRefresh/post">POST /devices/bulkRefresh</a> to allow your customer to refresh the client app on a list of devices.</p>
<p>Here is a Java code sample that refreshes the client app on a list of specified devices.</p>

<div class="accordion  mt-6 mb-4">
  <div>







<div id="force-client-refresh-sample" class="accordion-item">
  <h4 class="body-3  mt-0 " id="panelsStayOpen-heading2-0">
    <button
        class="accordion-button accordion-header fw-bold text-grey  collapsed "
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#panelsStayOpen-collapse2-0"
        aria-expanded="false"
        aria-controls="panelsStayOpen-collapse2-0"
    >
      <div>Code sample
      </div>
    </button>
  </h4>
  <div
      id="panelsStayOpen-collapse2-0"
      class="accordion-collapse collapse "
      aria-labelledby="panelsStayOpen-heading2-0"
    >
      <div class="accordion-body text-grey"><div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> HttpResponse<span style="color:#666">&lt;</span>String<span style="color:#666">&gt;</span> <span style="color:#00f">bulkRefresh</span><span style="color:#666">(</span>String accessToken<span style="color:#666">)</span> <span style="color:#008000;font-weight:bold">throws</span> URISyntaxException<span style="color:#666">,</span> IOException<span style="color:#666">,</span> InterruptedException <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>    String bulkRefreshUrl <span style="color:#666">=</span> API_URI <span style="color:#666">+</span> <span style="color:#ba2121">&#34;devices/bulkRefresh&#34;</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>    String body <span style="color:#666">=</span> <span style="color:#ba2121">&#34;{\n&#34;</span> <span style="color:#666">+</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#34;\&#34;deviceIds\&#34;: [\&#34;imei\&#34;,\&#34;sn\&#34;]\n&#34;</span> <span style="color:#666">+</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#34;}&#34;</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>    HttpClient client <span style="color:#666">=</span> HttpClient<span style="color:#666">.</span><span style="color:#7d9029">newHttpClient</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    HttpRequest request <span style="color:#666">=</span> HttpRequest<span style="color:#666">.</span><span style="color:#7d9029">newBuilder</span><span style="color:#666">()</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">.</span><span style="color:#7d9029">uri</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">new</span> URI<span style="color:#666">(</span>bulkRefreshUrl<span style="color:#666">))</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">.</span><span style="color:#7d9029">POST</span><span style="color:#666">(</span>HttpRequest<span style="color:#666">.</span><span style="color:#7d9029">BodyPublishers</span><span style="color:#666">.</span><span style="color:#7d9029">ofString</span><span style="color:#666">(</span>body<span style="color:#666">))</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">.</span><span style="color:#7d9029">headers</span><span style="color:#666">(</span><span style="color:#ba2121">&#34;Content-Type&#34;</span><span style="color:#666">,</span> <span style="color:#ba2121">&#34;application/json;charset=UTF-8&#34;</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#ba2121">&#34;Authorization&#34;</span><span style="color:#666">,</span> <span style="color:#ba2121">&#34;Bearer &#34;</span> <span style="color:#666">+</span> accessToken<span style="color:#666">)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">.</span><span style="color:#7d9029">build</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">return</span> client<span style="color:#666">.</span><span style="color:#7d9029">send</span><span style="color:#666">(</span>request<span style="color:#666">,</span> HttpResponse<span style="color:#666">.</span><span style="color:#7d9029">BodyHandlers</span><span style="color:#666">.</span><span style="color:#7d9029">ofString</span><span style="color:#666">());</span>
</span></span><span style="display:flex;"><span><span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Response sample<span style="color:#666">:</span>
</span></span><span style="display:flex;"><span><span style="color:#666">{</span>  <span style="color:#ba2121">&#34;transactionId&#34;</span><span style="color:#666">:</span> <span style="color:#ba2121">&#34;T882582188b10&#34;</span><span style="color:#666">,</span> <span style="color:#ba2121">&#34;code&#34;</span><span style="color:#666">:</span> <span style="color:#ba2121">&#34;KFMBE0N00000&#34;</span><span style="color:#666">,</span> <span style="color:#ba2121">&#34;message&#34;</span><span style="color:#666">:</span> <span style="color:#ba2121">&#34;SUCCESS&#34;</span><span style="color:#666">,</span> <span style="color:#ba2121">&#34;data&#34;</span><span style="color:#666">:</span> <span style="color:#666">{</span> <span style="color:#ba2121">&#34;operationId&#34;</span><span style="color:#666">:</span>  <span style="color:#ba2121">&#34;64f91045d4f2de17e3923590&#34;</span><span style="color:#666">,</span> <span style="color:#ba2121">&#34;devicesToProcessCount&#34;</span><span style="color:#666">:</span> <span style="color:#666">2</span> <span style="color:#666">}</span> <span style="color:#666">}</span>
</span></span></code></pre></div></div>
    </div>
</div>
</div>
</div>

<p>Subscribe to the <code>KE_DEVICE_BULK_REFRESH</code> event with Knox Webhook Notification to receive result notifications when the refresh is complete.</p>
<p>For more information, see the <a href="../../../knox-webhook-notification/api-reference/api.html">Knox Webhook Notification API reference</a>.

<div class="accordion  mt-6 mb-4">
  <div>







<div id="kwn-subscribe-ke-refresh" class="accordion-item">
  <h4 class="body-3  mt-0 " id="panelsStayOpen-heading3-0">
    <button
        class="accordion-button accordion-header fw-bold text-grey  collapsed "
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#panelsStayOpen-collapse3-0"
        aria-expanded="false"
        aria-controls="panelsStayOpen-collapse3-0"
    >
      <div>Code sample
      </div>
    </button>
  </h4>
  <div
      id="panelsStayOpen-collapse3-0"
      class="accordion-collapse collapse "
      aria-labelledby="panelsStayOpen-heading3-0"
    >
      <div class="accordion-body text-grey"><div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">private</span> HttpResponse<span style="color:#666">&lt;</span>String<span style="color:#666">&gt;</span> <span style="color:#00f">createBulkRefreshSubscription</span><span style="color:#666">(</span>String callbackUrl<span style="color:#666">)</span> <span style="color:#008000;font-weight:bold">throws</span> URISyntaxException<span style="color:#666">,</span> IOException<span style="color:#666">,</span> InterruptedException <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>    String subscriptionUrl <span style="color:#666">=</span> WEBHOOK_URI <span style="color:#666">+</span> <span style="color:#ba2121">&#34;subscriptions&#34;</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>    String body <span style="color:#666">=</span> <span style="color:#ba2121">&#34;{\n&#34;</span> <span style="color:#666">+</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#34;\&#34;url\&#34;: &#34;</span> <span style="color:#666">+</span> callbackUrl <span style="color:#666">+</span> <span style="color:#ba2121">&#34;,\n&#34;</span> <span style="color:#666">+</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#34;\&#34;events\&#34;: [\n&#34;</span> <span style="color:#666">+</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#34;\&#34;KE_DEVICE_BULK_REFRESH\&#34;\n&#34;</span> <span style="color:#666">+</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#34;]\n&#34;</span> <span style="color:#666">+</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#34;}&#34;</span><span style="color:#666">;</span>
</span></span><span style="display:flex;"><span>    HttpClient client <span style="color:#666">=</span> HttpClient<span style="color:#666">.</span><span style="color:#7d9029">newHttpClient</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    HttpRequest request <span style="color:#666">=</span> HttpRequest<span style="color:#666">.</span><span style="color:#7d9029">newBuilder</span><span style="color:#666">()</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">.</span><span style="color:#7d9029">uri</span><span style="color:#666">(</span><span style="color:#008000;font-weight:bold">new</span> URI<span style="color:#666">(</span>subscriptionUrl<span style="color:#666">))</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">.</span><span style="color:#7d9029">POST</span><span style="color:#666">(</span>HttpRequest<span style="color:#666">.</span><span style="color:#7d9029">BodyPublishers</span><span style="color:#666">.</span><span style="color:#7d9029">ofString</span><span style="color:#666">(</span>body<span style="color:#666">))</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">.</span><span style="color:#7d9029">headers</span><span style="color:#666">(</span><span style="color:#ba2121">&#34;Content-Type&#34;</span><span style="color:#666">,</span> <span style="color:#ba2121">&#34;application/json;charset=UTF-8&#34;</span><span style="color:#666">,</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#ba2121">&#34;Authorization&#34;</span><span style="color:#666">,</span> <span style="color:#ba2121">&#34;Bearer &#34;</span> <span style="color:#666">+</span> accessToken<span style="color:#666">)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#666">.</span><span style="color:#7d9029">build</span><span style="color:#666">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">return</span> client<span style="color:#666">.</span><span style="color:#7d9029">send</span><span style="color:#666">(</span>request<span style="color:#666">,</span> HttpResponse<span style="color:#666">.</span><span style="color:#7d9029">BodyHandlers</span><span style="color:#666">.</span><span style="color:#7d9029">ofString</span><span style="color:#666">());</span>
</span></span><span style="display:flex;"><span><span style="color:#666">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Response sample<span style="color:#666">:</span>
</span></span><span style="display:flex;"><span><span style="color:#666">{</span> <span style="color:#ba2121">&#34;payload&#34;</span><span style="color:#666">:</span> <span style="color:#666">{</span> <span style="color:#ba2121">&#34;id&#34;</span><span style="color:#666">:</span> <span style="color:#ba2121">&#34;636c1a692d0f427ee1f07470&#34;</span><span style="color:#666">,</span> <span style="color:#ba2121">&#34;url&#34;</span><span style="color:#666">:</span> <span style="color:#ba2121">&#34;https://some.domain/kwn-results&#34;</span><span style="color:#666">,</span> <span style="color:#ba2121">&#34;events&#34;</span><span style="color:#666">:</span> <span style="color:#666">[</span><span style="color:#ba2121">&#34;KE_DEVICE_BULK_REFRESH&#34;</span><span style="color:#666">]</span> <span style="color:#666">}</span> <span style="color:#666">}</span>
</span></span></code></pre></div></div>
    </div>
</div>
</div>
</div>
</p>

            
          </div>
          <div class="l-toh">
            <h2 class="body-4 fw-bold mt-0">On this page</h2>
<aside class="table-of-headings">
  <nav id="TableOfContents">
  <ul>
    <li><a href="monitoring-and-troubleshooting.html#reporting-device-status-in-the-device-list">Reporting device status in the device list</a>
      <ul>
        <li><a href="monitoring-and-troubleshooting.html#operation-status">Operation status</a></li>
        <li><a href="monitoring-and-troubleshooting.html#client-status">Client status</a></li>
        <li><a href="monitoring-and-troubleshooting.html#update-status">Update status</a></li>
        <li><a href="monitoring-and-troubleshooting.html#knox-webhook-notification-for-device-status-changes">Knox Webhook Notification for device status changes</a></li>
      </ul>
    </li>
    <li><a href="monitoring-and-troubleshooting.html#device-and-activity-log">Device and activity log</a></li>
    <li><a href="monitoring-and-troubleshooting.html#force-client-refresh">Force client refresh</a></li>
  </ul>
</nav>
</aside>
          </div>
        </div> 
      </div><div>
  <div id="feedbackQuestion" class="py-4 border-top text-center">
    <p class="body-4 mb-2">Is this page helpful?</p>
    <button id="feedbackYes" class="button-icon me-4">
      <span class="button-thumbs-up pe-4"></span> YES
    </button>
    <button id="feedbackNo" class="button-icon">
      <span class="button-thumbs-down pe-4"></span> No
    </button>
  </div>
</div>

<div id="feedbackThanks" class="mt-6 border-top text-center" style="display: none">
  <p class="body-4 pt-4">Thank you for your feedback!</p>
</div>



    
  </main>
  
    <footer class="border-top">
  
  <div class="container footer">
    <div class="row g-0 footer-top-section">
      
      <div class="col-sm-12 col-md-6 col-lg-3 footer-vertical-section">
        <div class="d-flex justify-content-between align-items-center">
          <a class="footer-section-title" data-bs-toggle="collapse" href="monitoring-and-troubleshooting.html#item0" role="button" aria-expanded="false" aria-controls="item0"> 
            <h6 class="body-3 fw-bold text-uppercase text-black pt-4">Knox Developer documentation</h6>
          </a>
          <a class="btn-toggle d-inline-flex d-lg-none rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#item0" aria-expanded="false"></a>
        </div>
        <div class="d-lg-block collapse" id="item0">
          <ul class="nav flex-column">
            
            <li>
              <a
                href="../../../fundamentals.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Fundamentals</a
              >
            </li>
            
            <li>
              <a
                href="../../../knox-sdk.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox SDK</a
              >
            </li>
            
            <li>
              <a
                href="../../../knox-pos-sdk.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox POS SDK</a
              >
            </li>
            
            <li>
              <a
                href="../../../knox-capture-sdk.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Capture SDK</a
              >
            </li>
            
            <li>
              <a
                href="../../../knox-tizen-sdk.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Tizen SDK</a
              >
            </li>
            
            <li>
              <a
                href="../../../knox-cloud-authentication.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Cloud Authentication</a
              >
            </li>
            
            <li>
              <a
                href="../../../knox-webhook-notification.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Webhook Notification</a
              >
            </li>
            
            <li>
              <a
                href="../../../knox-deployment-program.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Deployment Program</a
              >
            </li>
            
            <li>
              <a
                href="../../../knox-msp-portal.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox MSP Portal</a
              >
            </li>
            
            <li>
              <a
                href="../../../knox-mobile-enrollment.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Mobile Enrollment</a
              >
            </li>
            
            <li>
              <a
                href="../../../knox-configure.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Configure</a
              >
            </li>
            
            <li>
              <a
                href="../../../knox-manage.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Manage</a
              >
            </li>
            
            <li>
              <a
                href="../../../knox-attestation.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Attestation</a
              >
            </li>
            
            <li>
              <a
                href="../../../knox-guard.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Guard</a
              >
            </li>
            
            <li>
              <a
                href="../../../knox-asset-intelligence.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Knox Asset Intelligence</a
              >
            </li>
            
            <li>
              <a
                href="../../../managed-configurations.html"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Managed configurations</a
              >
            </li>
            
          </ul>
        </div>
      </div>
      
      <div class="col-sm-12 col-md-6 col-lg-3 footer-vertical-section">
        <div class="d-flex justify-content-between align-items-center">
          <a class="footer-section-title" data-bs-toggle="collapse" href="monitoring-and-troubleshooting.html#item1" role="button" aria-expanded="false" aria-controls="item1"> 
            <h6 class="body-3 fw-bold text-uppercase text-black pt-4">Support</h6>
          </a>
          <a class="btn-toggle d-inline-flex d-lg-none rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#item1" aria-expanded="false"></a>
        </div>
        <div class="d-lg-block collapse" id="item1">
          <ul class="nav flex-column">
            
            <li>
              <a
                href="https://developer.samsungknox.com/dashboard/support"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Submit a support ticket</a
              >
            </li>
            
          </ul>
        </div>
      </div>
      
      <div class="col-sm-12 col-md-6 col-lg-3 footer-vertical-section">
        <div class="d-flex justify-content-between align-items-center">
          <a class="footer-section-title" data-bs-toggle="collapse" href="monitoring-and-troubleshooting.html#item2" role="button" aria-expanded="false" aria-controls="item2"> 
            <h6 class="body-3 fw-bold text-uppercase text-black pt-4">Samsung</h6>
          </a>
          <a class="btn-toggle d-inline-flex d-lg-none rounded border-0 fw-light" data-bs-toggle="collapse" data-bs-target="#item2" aria-expanded="false"></a>
        </div>
        <div class="d-lg-block collapse" id="item2">
          <ul class="nav flex-column">
            
            <li>
              <a
                href="https://www.samsungknox.com/en"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Samsung Knox</a
              >
            </li>
            
            <li>
              <a
                href="https://partner.samsungknox.com/"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Samsung Knox Partner Program</a
              >
            </li>
            
            <li>
              <a
                href="https://developer.samsung.com/"
                class="body-5 d-flex align-items-center text-black fw-light pe-auto text-decoration-none"
                >Samsung Knox Developer</a
              >
            </li>
            
          </ul>
        </div>
      </div>
      
    </div>
  </div>
  <div class="container py-4 border-bottom border-top">
    <p class="m-0"><small>Copyright © 1995-<script>document.write(new Date().getFullYear());</script><noscript>2023</noscript> SAMSUNG All Rights Reserved.</small></p>
  </div>
  <div class="container">
    <div class="footer-bottom-section-row">
      <div class="d-flex py-4 justify-content-between">
        <div class="d-flex align-items-center">
          
          <p class="m-0 footer-bottom-section-item">
            <a class="body-6 text-uppercase text-black" href="https://www2.samsungknox.com/en/privacy-policy-us">Privacy policy</a>
          </p>
          
          <p class="m-0 footer-bottom-section-item">
            <a class="body-6 text-uppercase text-black" href="https://www.samsungknox.com/en/legal">Legal</a>
          </p>
          
        </div>
      </div>
    </div>
  </div>
</footer>

  
</body>

</html>
