<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>knoxremotedesktop::IRemoteDesktop Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head><div id="headerLeft">
<body>
<div id="top"><!-- do not remove this div! -->

<div id="titlearea">
<table cellspacing="0" cellpadding="0" height="68">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td id="projectlogo"><a href="http://www.samsung.com"><img width="80" height="48" alt="Logo" src="samsung.jpg"></a></td>
  
  
  
  <td style="padding-left: 0.5em;"> <div id="projectname">Mobile Device Management </div> </td>
  
  
  
  <td style="padding-left: 0.5em;"> &#160;<div id="projectbrief">Native SDK</div> </td>
  
  
  
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceknoxremotedesktop.html">knoxremotedesktop</a>      </li>
      <li class="navelem"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html">IRemoteDesktop</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="classknoxremotedesktop_1_1IRemoteDesktop.html#pub-methods">Public Member Functions</a> &#124;
<a href="classknoxremotedesktop_1_1IRemoteDesktop.html#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">knoxremotedesktop::IRemoteDesktop Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="knoxremotedesktop::IRemoteDesktop" -->
<p>Remote Desktop Module provides means by which the admin capture the device screen content.  
 <a href="classknoxremotedesktop_1_1IRemoteDesktop.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="RemoteDesktop_8h_source.html">RemoteDesktop.h</a>&gt;</code></p>

<p><a href="classknoxremotedesktop_1_1IRemoteDesktop-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae">init</a> ()=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to initialize remote desktop session.  <a href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#ae9a1e6863bfc2affad4462bc0a29914a">getScreenInfo</a> (int *width, int *height, int *bytesPerPixel, int *pixelFormat)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to get Frame Buffer's Resolution/PixelFormat information.  <a href="classknoxremotedesktop_1_1IRemoteDesktop.html#ae9a1e6863bfc2affad4462bc0a29914a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a57d5432823adfd7cfb72441469ccc98e">getFrameBufInfo</a> (int *fd, <a class="el" href="namespaceknoxremotedesktop.html#a01c73ba2fbebc2395aae6198eb87a416">FDType</a> *fdType)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to get Frame Buffer Information.  <a href="classknoxremotedesktop_1_1IRemoteDesktop.html#a57d5432823adfd7cfb72441469ccc98e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#af22e75002f52d837cfc9d9589647ddb9">setListener</a> (<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktopListener.html">IRemoteDesktopListener</a> *listener)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to register Screen Event listener.  <a href="classknoxremotedesktop_1_1IRemoteDesktop.html#af22e75002f52d837cfc9d9589647ddb9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a0ab5a0cf162a91c5e69abeed90f8ba09">captureScreen</a> (<a class="el" href="classknoxremotedesktop_1_1DirtyRegion.html">DirtyRegion</a> &amp;region)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to capture the screen.  <a href="classknoxremotedesktop_1_1IRemoteDesktop.html#a0ab5a0cf162a91c5e69abeed90f8ba09"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a700dee2f575609a933a53d7ab10480e4">getScreenPixelFormatInfo</a> (<a class="el" href="structknoxremotedesktop_1_1PixelFormatDetail.html">PixelFormatDetail</a> &amp;formatDetail)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to get screen pixel format information.  <a href="classknoxremotedesktop_1_1IRemoteDesktop.html#a700dee2f575609a933a53d7ab10480e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#aeb13652779ac87ce9de9a8155f6dc60b">setScreenInfo</a> (int prefW, int prefH, int prefFormat)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to set the framebuffer's width, height and format preferred by the admin.  <a href="classknoxremotedesktop_1_1IRemoteDesktop.html#aeb13652779ac87ce9de9a8155f6dc60b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#aafef444b0d8af3044e790932648cec3b">getDefaultScreenInfo</a> (int *hwwidth, int *hwheight, int *hwbytesPerPixel, int *hwpixelFormat)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to get the default screen information.  <a href="classknoxremotedesktop_1_1IRemoteDesktop.html#aafef444b0d8af3044e790932648cec3b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#afd74363dbd7affbbdae3f5118ff5c17c">getDefaultDexScreenInfo</a> (int *hwwidth, int *hwheight, int *hwbytesPerPixel)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to get the default Dex screen information.  <a href="classknoxremotedesktop_1_1IRemoteDesktop.html#afd74363dbd7affbbdae3f5118ff5c17c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a832ccdcdd8a6d30121d7c5298df08708">setDexScreenInfo</a> (int prefW, int prefH)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to set Dex screen framebuffer's width and height by the admin.  <a href="classknoxremotedesktop_1_1IRemoteDesktop.html#a832ccdcdd8a6d30121d7c5298df08708"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#abc9e2145cfd61267134b3ecde331f586">getDexBufInfo</a> (int *fdDex)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to get Dex screen Frame Buffer Information.  <a href="classknoxremotedesktop_1_1IRemoteDesktop.html#abc9e2145cfd61267134b3ecde331f586"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#aaecd5b1a0c8ee18d7c429e3c3f4f026b">getDexScreenInfo</a> (int *width, int *height, int *bytesPerPixel)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">API to get Dex screen Frame Buffer's Resolution.  <a href="classknoxremotedesktop_1_1IRemoteDesktop.html#aaecd5b1a0c8ee18d7c429e3c3f4f026b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html">IRemoteDesktop</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a86eefbec946d605470af069999763f74">getInstance</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an instance of a RemoteDesktop client.  <a href="classknoxremotedesktop_1_1IRemoteDesktop.html#a86eefbec946d605470af069999763f74"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Remote Desktop Module provides means by which the admin capture the device screen content. </p>
<p>It provides the following features for EDM client<br/>
</p>
<ul>
<li>Access to screen content through shared memory from Surface Flinger. <br/>
</li>
</ul>
<p>(Note: Surface Flinger is android's composition engine that composes the</p>
<p>UI content and updates to the display<br/>
</p>
<ul>
<li>or Access to screen content through Read-only access to the framebuffer device.<br/>
</li>
</ul>
<ul>
<li>Screen Changed Notifications<br/>
</li>
</ul>
<p>( This prevents the EDM client from having to poll the screen content continuously</p>
<p>to check for changes. The notifications shall be received for both approaches fb0</p>
<p>and surface flinger.)<br/>
</p>
<ul>
<li>Dirty Region feedback after capture<br/>
</li>
</ul>
<p>The decision to use framebuffer device (fb0) or Surface Flinger mechanism is made based on the</p>
<p>following aspects<br/>
</p>
<ul>
<li>Availability of the approach <br/>
</li>
</ul>
<p>(Eg: - Only Surface Flinger approach works in some devices as the frame buffer</p>
<p>device is not accessible/available),<br/>
</p>
<ul>
<li>Frame rate yielded by individual approach and <br/>
</li>
</ul>
<ul>
<li>Accuracy of the screen content <br/>
</li>
</ul>
<p>(Eg: - FB0 misses some overlay content. Lets say, Wallpaper is present in one</p>
<p>layer, Status Bar present in one layer, remaining UIs present in another layer). <br/>
</p>
<p>Note: This decision is done for every device at build time.<br/>
</p>
<p>The EDM client can register a listener to receive notifications when the screen changes.</p>
<p>On occurrence of screen change, the Remote Desktop module sends a screenChanged callback and</p>
<p>waits for the capture request from the client.</p>
<p>(Note: Subsequent screen changes are detected, but they are not notified to the client until</p>
<p>the capture request for the outstanding callback is received.)<br/>
</p>
<p><br/>
</p>
<p>In case of Remote Desktop session<br/>
</p>
<p>&#160;&#160;1) If Remote Desktop Session is started at owner space<br/>
</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;a) It can capture owner space screens<br/>
</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;b) It can capture Android guest user's screens<br/>
</p>
<p>&#160;&#160;2) If Remote Desktop Session is started at Android guest user<br/>
</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;a) It can't capture owner space screens<br/>
</p>
<p>&#160;&#160;&#160;&#160;&#160;&#160;b) It can capture its own user space screens<br/>
</p>
<p>Events injected by Remote Injection are not injected into user space where Remote Desktop</p>
<p>is disabled.</p>
<p><br/>
</p>
<dl class="user"><dt><b>PolicyGroupID: </b></dt><dd>Remote Control</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>API level 3</dd>
<dd>
MDM 2.1</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000013">Deprecated:</a></b></dt><dd>API level 35</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000014">Deprecated:</a></b></dt><dd>Knox 3.8</dd></dl>
<dl class="user"><dt><b>Permission: </b></dt><dd>This policy requires the caller to have the</dd></dl>
<p>"com.samsung.android.knox.permission.KNOX_REMOTE_CONTROL" permission</p>
<p>which has a protection level of signature. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0ab5a0cf162a91c5e69abeed90f8ba09"></a><!-- doxytag: member="knoxremotedesktop::IRemoteDesktop::captureScreen" ref="a0ab5a0cf162a91c5e69abeed90f8ba09" args="(DirtyRegion &amp;region)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a0ab5a0cf162a91c5e69abeed90f8ba09">knoxremotedesktop::IRemoteDesktop::captureScreen</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classknoxremotedesktop_1_1DirtyRegion.html">DirtyRegion</a> &amp;&#160;</td>
          <td class="paramname"><em>region</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to capture the screen. </p>
<p>Admin can use this API to capture the screen. Remote Desktop</p>
<p>module returns the changed region or dirty region in response</p>
<p>to this request. (This API updates the screen contents to shared memory</p>
<p>if fdType == FD_SHARED_MEM.)<br/>
</p>
<p>[NOTE] It is recommended to follow the following sequence:<br/>
</p>
<p>Step 1 : Call <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a86eefbec946d605470af069999763f74" title="Returns an instance of a RemoteDesktop client.">IRemoteDesktop::getInstance()</a> to get an instance of <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a><br/>
</p>
<p>Step 2 : Call IRemoteDesktop::getDefaultScreenInfo(&amp;hwwidth,&amp;hwheight,&amp;hwbytesPerPixel,&amp;hwpixelFormat) to get the hardware width,height,pixel size and format<br/>
</p>
<p>Step 3 : Call <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#aeb13652779ac87ce9de9a8155f6dc60b" title="API to set the framebuffer&#39;s width, height and format preferred by the admin.">IRemoteDesktop::setScreenInfo</a> (prefW, prefH, prefFormat) to set the desired screen width,height and pixel format<br/>
</p>
<p>Step 4 : Call <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">IRemoteDesktop::init()</a><br/>
</p>
<p>Step 5 : Call <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a57d5432823adfd7cfb72441469ccc98e" title="API to get Frame Buffer Information.">IRemoteDesktop::getFrameBufInfo()</a> to get file descriptor and type of it<br/>
</p>
<p>Step 6 : Call mmap() to map file descriptor to memory<br/>
</p>
<p>Step 7 : Set screen update listener<br/>
</p>
<p>Step 8 : Call <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a0ab5a0cf162a91c5e69abeed90f8ba09" title="API to capture the screen.">IRemoteDesktop::captureScreen()</a> to get dirty regions after screenChanged() callback is called<br/>
</p>
<p>Example client call:</p>
<pre></pre><pre> class RemoteDesktopListener : public <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktopListener.html" title="This class provides the interface to get notified when the screen changes.">IRemoteDesktopListener</a> {</pre><pre> 	 RemoteDesktopListener() {}</pre><pre> 	 virtual void screenChanged() {</pre><pre> 		 LOGI("RemoteDesktopListener :: screenChanged()");</pre><pre>		   	 // Capture Screen Request code</pre><pre>			 <a class="el" href="classknoxremotedesktop_1_1DirtyRegion.html" title="This structure provides the Dirty Region Information.">DirtyRegion</a> dirtyRegion;</pre><pre>			 bool err = remoteDesktop-&gt;captureScreen(dirtyRegion);</pre><pre>			 if(err == false)  {</pre><pre>				 // failure code</pre><pre>			} else {</pre><pre>				 // success code</pre><pre>			}</pre><pre>		  }</pre><pre>	   }</pre><pre>	 ....</pre><pre>	 <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();</pre><pre>	 int w = 360, h = 640, format = PF_RGBA_8888;</pre><pre>	 //Only in case, when user is in Landscape mode and facing problem in starting the Remote Session in Android 10 device
	 int w = 640, h = 360, format = PF_RGBA_8888;</pre><pre>	 int	  mFD;</pre><pre>	 FDType   mFDType;</pre><pre>	 bool ret;</pre><pre>	 int	hwwidth, hwheight, hwpixelFormat, hwbytesPerPixel;</pre><pre>	 remotedesktop-&gt;getDefaultScreenInfo(&amp;hwwidth, &amp;hwheight, &amp;hwbytesPerPixel, &amp;hwpixelFormat);</pre><pre>	 ret = remoteDesktop-&gt;setScreenInfo(w,h,format);</pre><pre>	 if(ret == false){</pre><pre>		 // failure code</pre><pre>	 }</pre><pre>	 ret = remoteDesktop-&gt;<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a>;</pre><pre>	 if(ret == false){</pre><pre>		 // failure code</pre><pre>	 }</pre><pre>	 ret = remoteDesktop-&gt;getFrameBufInfo(&amp;mFD, &amp;mFDType);</pre><pre>	 if(ret == false){</pre><pre>		 // failure code</pre><pre>	 }</pre><pre>	 if (mFDType == FD_DEV_FB0) {</pre><pre>		 struct fb_var_screeninfo vinfo;</pre><pre>		 if(ioctl(mFD, FBIOGET_VSCREENINFO, &amp;vinfo) &lt; 0) return false;</pre><pre>		 int offset = vinfo.xoffset * mBytesPerPixel + vinfo.xres * vinfo.yoffset * mBytesPerPixel;</pre><pre>		 mFrame = (unsigned short *) mmap(0, mFrameBufferSize, PROT_READ, MAP_PRIVATE, mFD, offset);</pre><pre>	 } else if (mFDType == FD_SHARED_MEM) {</pre><pre>		 mFrame = (unsigned short *) mmap(0, mFrameBufferSize, PROT_READ, MAP_SHARED, mFD, 0);</pre><pre>	 } else {</pre><pre>		 LOGE("mapFrameBuffer Failed");</pre><pre>		 return false;</pre><pre>	 }</pre><pre>	 <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktopListener.html" title="This class provides the interface to get notified when the screen changes.">IRemoteDesktopListener</a> *remoteDesktoplistener = new RemoteDesktopListener();</pre><pre>	 remoteDesktop-&gt;setListener(remoteDesktoplistener);</pre><pre> </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the</dd></dl>
<p>"com.samsung.android.knox.permission.KNOX_REMOTE_CONTROL" permission which has a protection level</p>
<p>of signature.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">region</td><td>Dirty Region Information</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if captured successfully, else <code>false</code>.</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>API level 3</dd>
<dd>
MDM 2.1</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000028">Deprecated:</a></b></dt><dd>API level 35</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000029">Deprecated:</a></b></dt><dd>Knox 3.8</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a86eefbec946d605470af069999763f74" title="Returns an instance of a RemoteDesktop client.">getInstance()</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#ae9a1e6863bfc2affad4462bc0a29914a" title="API to get Frame Buffer&#39;s Resolution/PixelFormat information.">getScreenInfo(int*, int*, int*, int*)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a57d5432823adfd7cfb72441469ccc98e" title="API to get Frame Buffer Information.">getFrameBufInfo(int *, FDType *)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="afd74363dbd7affbbdae3f5118ff5c17c"></a><!-- doxytag: member="knoxremotedesktop::IRemoteDesktop::getDefaultDexScreenInfo" ref="afd74363dbd7affbbdae3f5118ff5c17c" args="(int *hwwidth, int *hwheight, int *hwbytesPerPixel)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#afd74363dbd7affbbdae3f5118ff5c17c">knoxremotedesktop::IRemoteDesktop::getDefaultDexScreenInfo</a> </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hwwidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hwheight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hwbytesPerPixel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to get the default Dex screen information. </p>
<p>Admin can use this API to get the default hardware screen dimensions and pixel byte size of Dex sreen. This new API is introduced for devices that support samsung Dex mode.</p>
<p>Example client call:</p>
<pre>
  <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();
  bool ret = remoteDesktop-&gt;<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a>;
  if(ret == false)  {
     // failure code
  } else {
     // success code	 
  // Dex state change callback received
     int	hwwidth, hwheight, hwbytesPerPixel;	
     int res = remotedesktop-&gt;getDefaultDexScreenInfo(&amp;hwwidth, &amp;hwheight, &amp;hwbytesPerPixel);
  }
 </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the "com.samsung.android.knox.permission.KNOX_ADVANCED_RESTRICTION" permission which has a protection level of signature.</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hwwidth</td><td>Hardware Screen Width of Dex screen. </td></tr>
    <tr><td class="paramname">hwHeight</td><td>Hardware Screen Height of Dex screen. </td></tr>
    <tr><td class="paramname">hwbytesPerPixel</td><td>Hardware Pixel Size in Bytes of Dex screen. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Integer value -1 when user does not have permission to call this API. </dd>
<dd>
Integer value 0 If successfully able to fetch the given parameters. </dd>
<dd>
Integer value 1 when Dex is not connected to device. </dd>
<dd>
Integer value 2 Due to some unknown error. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>API level 30 </dd>
<dd>
KNOX 3.4.1 </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000036">Deprecated:</a></b></dt><dd><p class="startdd">API level 35 </p>
<p class="enddd">Knox 3.8 </p>
</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a832ccdcdd8a6d30121d7c5298df08708" title="API to set Dex screen framebuffer&#39;s width and height by the admin.">setDexScreenInfo(int prefW, int prefH)</a> </dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#abc9e2145cfd61267134b3ecde331f586" title="API to get Dex screen Frame Buffer Information.">getDexBufInfo(int * fdDex)</a> </dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#aaecd5b1a0c8ee18d7c429e3c3f4f026b" title="API to get Dex screen Frame Buffer&#39;s Resolution.">getDexScreenInfo(int *width, int *height, int *bytesPerPixel)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aafef444b0d8af3044e790932648cec3b"></a><!-- doxytag: member="knoxremotedesktop::IRemoteDesktop::getDefaultScreenInfo" ref="aafef444b0d8af3044e790932648cec3b" args="(int *hwwidth, int *hwheight, int *hwbytesPerPixel, int *hwpixelFormat)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#aafef444b0d8af3044e790932648cec3b">knoxremotedesktop::IRemoteDesktop::getDefaultScreenInfo</a> </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hwwidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hwheight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hwbytesPerPixel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hwpixelFormat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to get the default screen information. </p>
<p>Admin can use this API to get the default hardware screen dimensions, pixel formats and</p>
<p>pixel byte size. This new API is introduced as getScreenInfo need not return the default screen</p>
<p>information as it returns the selected framebuffer information based on the preferences</p>
<p>set by the admin</p>
<p>Example client call:</p>
<pre></pre><pre>  <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();</pre><pre>  bool ret = remoteDesktop-&gt;<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a>;</pre><pre>  if(ret == false)  {</pre><pre>     // failure code</pre><pre>  } else {</pre><pre>     // success code</pre><pre>     int	hwwidth, hwheight, hwpixelFormat, hwbytesPerPixel;</pre><pre>     remotedesktop-&gt;getDefaultScreenInfo(&amp;hwwidth, &amp;hwheight, &amp;hwbytesPerPixel, &amp;hwpixelFormat);</pre><pre>  }</pre><pre> </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the</dd></dl>
<p>"com.samsung.android.knox.permission.KNOX_REMOTE_CONTROL" permission which has a protection level</p>
<p>of signature.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hwwidth</td><td>Hardware Screen Width</td></tr>
    <tr><td class="paramname">hwHeight</td><td>Hardware Screen Height</td></tr>
    <tr><td class="paramname">hwbytesPerPixel</td><td>Hardware Pixel Size in Bytes</td></tr>
    <tr><td class="paramname">hwpixelFormat</td><td>Hardware Pixel Format.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>API level 3</dd>
<dd>
MDM 2.1</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000034">Deprecated:</a></b></dt><dd>API level 35</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000035">Deprecated:</a></b></dt><dd>Knox 3.8</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a86eefbec946d605470af069999763f74" title="Returns an instance of a RemoteDesktop client.">getInstance()</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a57d5432823adfd7cfb72441469ccc98e" title="API to get Frame Buffer Information.">getFrameBufInfo(int *, FDType *)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#af22e75002f52d837cfc9d9589647ddb9" title="API to register Screen Event listener.">setListener(IRemoteDesktopListener*)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a0ab5a0cf162a91c5e69abeed90f8ba09" title="API to capture the screen.">captureScreen(DirtyRegion&amp;)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="abc9e2145cfd61267134b3ecde331f586"></a><!-- doxytag: member="knoxremotedesktop::IRemoteDesktop::getDexBufInfo" ref="abc9e2145cfd61267134b3ecde331f586" args="(int *fdDex)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#abc9e2145cfd61267134b3ecde331f586">knoxremotedesktop::IRemoteDesktop::getDexBufInfo</a> </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>fdDex</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to get Dex screen Frame Buffer Information. </p>
<p>Admin can use this API to get File Descriptor of Dex screen Shared memory.<br/>
 [Note] For Dex screen file descriptor type (FDType) is always Shared Memory. </p>
<p>Example client call:</p>
<pre>
  <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();
  bool ret = remoteDesktop-&gt;<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a>;
  if(ret == false)  {
     // failure code
  } else {
     // success code	 
     // Dex state change callback received
     int mFDdex;
     int w = 640, h = 360;
     bool ret = remoteDesktop-&gt;setDexScreenInfo(w,h);
     remoteDesktop-&gt;getDexBufInfo(&amp;mFDdex);
     if(mFDdex == -1)  {
         // failure code
     } else {
         // success code	 
     }
  }
 </pre><dl class="user"><dt><b>Permission: </b></dt><dd>None</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>File Descriptor for Dex screen buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>API level 30 </dd>
<dd>
KNOX 3.4.1 </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000038">Deprecated:</a></b></dt><dd><p class="startdd">API level 35 </p>
<p class="enddd">Knox 3.8 </p>
</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#afd74363dbd7affbbdae3f5118ff5c17c" title="API to get the default Dex screen information.">getDefaultDexScreenInfo(int *hwwidth, int *hwheight, int *hwbytesPerPixel)</a> </dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#aaecd5b1a0c8ee18d7c429e3c3f4f026b" title="API to get Dex screen Frame Buffer&#39;s Resolution.">getDexScreenInfo(int *width, int *height, int *bytesPerPixel)</a> </dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a832ccdcdd8a6d30121d7c5298df08708" title="API to set Dex screen framebuffer&#39;s width and height by the admin.">setDexScreenInfo(int prefW, int prefH)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aaecd5b1a0c8ee18d7c429e3c3f4f026b"></a><!-- doxytag: member="knoxremotedesktop::IRemoteDesktop::getDexScreenInfo" ref="aaecd5b1a0c8ee18d7c429e3c3f4f026b" args="(int *width, int *height, int *bytesPerPixel)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#aaecd5b1a0c8ee18d7c429e3c3f4f026b">knoxremotedesktop::IRemoteDesktop::getDexScreenInfo</a> </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>bytesPerPixel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to get Dex screen Frame Buffer's Resolution. </p>
<p>Admin can use this API to get Dex screen framebuffer dimensions and pixel byte size.</p>
<p>Note: Client should use same pixel format info for Dex screen buffer that is returned for device screen buffer.</p>
<p>Example client call:</p>
<pre>
  <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();
  bool ret = remoteDesktop-&gt;<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a>;
  if(ret == false)  {
     // failure code
  } else {
     // success code	 
     // Dex state change callback received
     int w = 640, h = 360;
     bool ret = remoteDesktop-&gt;setDexScreenInfo(w,h);
     int width, height, bytesPerPixel;
     remoteDesktop-&gt;getDexScreenInfo(&amp;width, &amp;height, &amp;bytesPerPixel);
  }
 </pre><dl class="user"><dt><b>Permission: </b></dt><dd>None</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>Screen Width </td></tr>
    <tr><td class="paramname">height</td><td>Screen Height </td></tr>
    <tr><td class="paramname">bytesPerPixel</td><td>Pixel Size in Bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>API level 30 </dd>
<dd>
KNOX 3.4.1 </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000039">Deprecated:</a></b></dt><dd><p class="startdd">API level 35 </p>
<p class="enddd">Knox 3.8 </p>
</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#afd74363dbd7affbbdae3f5118ff5c17c" title="API to get the default Dex screen information.">getDefaultDexScreenInfo(int *hwwidth, int *hwheight, int *hwbytesPerPixel)</a> </dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#abc9e2145cfd61267134b3ecde331f586" title="API to get Dex screen Frame Buffer Information.">getDexBufInfo(int * fdDex)</a> </dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a832ccdcdd8a6d30121d7c5298df08708" title="API to set Dex screen framebuffer&#39;s width and height by the admin.">setDexScreenInfo(int prefW, int prefH)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a57d5432823adfd7cfb72441469ccc98e"></a><!-- doxytag: member="knoxremotedesktop::IRemoteDesktop::getFrameBufInfo" ref="a57d5432823adfd7cfb72441469ccc98e" args="(int *fd, FDType *fdType)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a57d5432823adfd7cfb72441469ccc98e">knoxremotedesktop::IRemoteDesktop::getFrameBufInfo</a> </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceknoxremotedesktop.html#a01c73ba2fbebc2395aae6198eb87a416">FDType</a> *&#160;</td>
          <td class="paramname"><em>fdType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to get Frame Buffer Information. </p>
<p>Admin can use this API to get File Descriptor to</p>
<p>framebuffer device or Shared memory.</p>
<p>Example client call:</p>
<pre></pre><pre>  <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();</pre><pre>  bool ret = remoteDesktop-&gt;<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a>;</pre><pre>  if(ret == false)  {</pre><pre>     // failure code</pre><pre>  } else {</pre><pre>     // success code</pre><pre>     int	     mFD;</pre><pre>     FDType 	 mFDType;</pre><pre>     bool err = remoteDesktop-&gt;getFrameBufInfo(&amp;mFD, &amp;mFDType);</pre><pre>     if(err == false)  {</pre><pre>         // failure code</pre><pre>     } else {</pre><pre>         // success code</pre><pre>     }</pre><pre>  }</pre><pre> </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the</dd></dl>
<p>"com.samsung.android.knox.permission.KNOX_REMOTE_CONTROL" permission which has a protection level</p>
<p>of signature.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>File Descriptor</td></tr>
    <tr><td class="paramname">fdType</td><td>File Descriptor Type (Shared Memory or Frame Buffer)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if frame buffer information successfully retrieved, else <code>false</code>.</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>API level 3</dd>
<dd>
MDM 2.1</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000024">Deprecated:</a></b></dt><dd>API level 35</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000025">Deprecated:</a></b></dt><dd>Knox 3.8</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a86eefbec946d605470af069999763f74" title="Returns an instance of a RemoteDesktop client.">getInstance()</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#ae9a1e6863bfc2affad4462bc0a29914a" title="API to get Frame Buffer&#39;s Resolution/PixelFormat information.">getScreenInfo(int*, int*, int*, int*)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#af22e75002f52d837cfc9d9589647ddb9" title="API to register Screen Event listener.">setListener(IRemoteDesktopListener*)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a0ab5a0cf162a91c5e69abeed90f8ba09" title="API to capture the screen.">captureScreen(DirtyRegion&amp;)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a86eefbec946d605470af069999763f74"></a><!-- doxytag: member="knoxremotedesktop::IRemoteDesktop::getInstance" ref="a86eefbec946d605470af069999763f74" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html">IRemoteDesktop</a>* <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a86eefbec946d605470af069999763f74">knoxremotedesktop::IRemoteDesktop::getInstance</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns an instance of a RemoteDesktop client. </p>
<p>Admin can use this API to initialize the remote desktop session</p>
<p>establishing the connection to the underneath capture mechanism.</p>
<p>Example client call:</p>
<pre></pre><pre>  <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();</pre><pre>  bool ret = remoteDesktop-&gt;<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a>;</pre><pre>  if(ret == false)  { // failure due to either permission</pre><pre>                      // denied or other initialization failures</pre><pre>     // failure code</pre><pre>  } else {</pre><pre>     // success code</pre><pre>  }</pre><pre> </pre><dl class="return"><dt><b>Returns:</b></dt><dd>A remote desktop instance if successful, else <code>null</code>.</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>API level 3</dd>
<dd>
MDM 2.1</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000018">Deprecated:</a></b></dt><dd>API level 35</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000019">Deprecated:</a></b></dt><dd>Knox 3.8</dd></dl>

</div>
</div>
<a class="anchor" id="ae9a1e6863bfc2affad4462bc0a29914a"></a><!-- doxytag: member="knoxremotedesktop::IRemoteDesktop::getScreenInfo" ref="ae9a1e6863bfc2affad4462bc0a29914a" args="(int *width, int *height, int *bytesPerPixel, int *pixelFormat)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#ae9a1e6863bfc2affad4462bc0a29914a">knoxremotedesktop::IRemoteDesktop::getScreenInfo</a> </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>bytesPerPixel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pixelFormat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to get Frame Buffer's Resolution/PixelFormat information. </p>
<p>Admin can use this API to get the framebuffer dimensions, pixel formats and</p>
<p>pixel byte size.</p>
<p>Note: PixelFormat returned by this API is not reliable. It will not give accurate information</p>
<p>on the exact position details of each pixel. Also for FB0 FDType, the pixel format may also be returned</p>
<p>as PF_UNKNOWN. It is recommended that client always rely on the API <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a700dee2f575609a933a53d7ab10480e4" title="API to get screen pixel format information.">getScreenPixelFormatInfo()</a>.</p>
<p>Example client call:</p>
<pre></pre><pre>  <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();</pre><pre>  bool ret = remoteDesktop-&gt;<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a>;</pre><pre>  if(ret == false)  {</pre><pre>     // failure code</pre><pre>  } else {</pre><pre>     // success code</pre><pre>     int	width, height, pixelFormat, bytesPerPixel;</pre><pre>     remoteDesktop-&gt;getScreenInfo(&amp;width, &amp;height, &amp;bytesPerPixel, &amp;pixelFormat);</pre><pre>  }</pre><pre> </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the</dd></dl>
<p>"com.samsung.android.knox.permission.KNOX_REMOTE_CONTROL" permission which has a protection level</p>
<p>of signature.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>Screen Width</td></tr>
    <tr><td class="paramname">height</td><td>Screen Height</td></tr>
    <tr><td class="paramname">bytesPerPixel</td><td>Pixel Size in Bytes</td></tr>
    <tr><td class="paramname">pixelFormat</td><td>Pixel Format.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if screen information successfully retrieved, else <code>false</code>.</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>API level 3</dd>
<dd>
MDM 2.1</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000022">Deprecated:</a></b></dt><dd>API level 35</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000023">Deprecated:</a></b></dt><dd>Knox 3.8</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a86eefbec946d605470af069999763f74" title="Returns an instance of a RemoteDesktop client.">getInstance()</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a57d5432823adfd7cfb72441469ccc98e" title="API to get Frame Buffer Information.">getFrameBufInfo(int *, FDType *)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#af22e75002f52d837cfc9d9589647ddb9" title="API to register Screen Event listener.">setListener(IRemoteDesktopListener*)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a0ab5a0cf162a91c5e69abeed90f8ba09" title="API to capture the screen.">captureScreen(DirtyRegion&amp;)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a700dee2f575609a933a53d7ab10480e4"></a><!-- doxytag: member="knoxremotedesktop::IRemoteDesktop::getScreenPixelFormatInfo" ref="a700dee2f575609a933a53d7ab10480e4" args="(PixelFormatDetail &amp;formatDetail)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a700dee2f575609a933a53d7ab10480e4">knoxremotedesktop::IRemoteDesktop::getScreenPixelFormatInfo</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknoxremotedesktop_1_1PixelFormatDetail.html">PixelFormatDetail</a> &amp;&#160;</td>
          <td class="paramname"><em>formatDetail</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to get screen pixel format information. </p>
<p>Admin can use this API to get the pixel format detailed information.</p>
<p>Example client call:</p>
<pre></pre><pre>  <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();</pre><pre>  bool ret = remoteDesktop-&gt;<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a>;</pre><pre>  if(ret == false)  {</pre><pre>     // failure code</pre><pre>  } else {</pre><pre>     // success code</pre><pre>     <a class="el" href="structknoxremotedesktop_1_1PixelFormatDetail.html" title="This structure provides the pixel format information in terms of actual component offsets...">PixelFormatDetail</a> formatDetail;</pre><pre>     remoteDesktop-&gt;getScreenPixelFormatInfo(formatDetail);</pre><pre>  }</pre><pre> </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the</dd></dl>
<p>"com.samsung.android.knox.permission.KNOX_REMOTE_CONTROL" permission which has a protection level</p>
<p>of signature.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">formatDetail</td><td>Pixel Format Detail</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>API level 3</dd>
<dd>
MDM 2.1</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000030">Deprecated:</a></b></dt><dd>API level 35</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000031">Deprecated:</a></b></dt><dd>Knox 3.8</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a86eefbec946d605470af069999763f74" title="Returns an instance of a RemoteDesktop client.">getInstance()</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a57d5432823adfd7cfb72441469ccc98e" title="API to get Frame Buffer Information.">getFrameBufInfo(int *, FDType *)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#af22e75002f52d837cfc9d9589647ddb9" title="API to register Screen Event listener.">setListener(IRemoteDesktopListener*)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a0ab5a0cf162a91c5e69abeed90f8ba09" title="API to capture the screen.">captureScreen(DirtyRegion&amp;)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a7bed40d98c61713a69cf1dad8b37beae"></a><!-- doxytag: member="knoxremotedesktop::IRemoteDesktop::init" ref="a7bed40d98c61713a69cf1dad8b37beae" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae">knoxremotedesktop::IRemoteDesktop::init</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to initialize remote desktop session. </p>
<p>Admin can use this API to initialize the remote desktop session</p>
<p>establishing the connection to the underneath capture mechanism.</p>
<p>Example client call:</p>
<pre></pre><pre>  <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();</pre><pre>  bool ret = remoteDesktop-&gt;<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a>;</pre><pre>  if(ret == false)  { // failure due to either permission</pre><pre>                      // denied or other initialization failures</pre><pre>     // failure code</pre><pre>  } else {</pre><pre>     // success code</pre><pre>  }</pre><pre> </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the</dd></dl>
<p>"com.samsung.android.knox.permission.KNOX_REMOTE_CONTROL" permission which has a protection level</p>
<p>of signature.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if successfully initialised, else <code>false</code>.</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>API level 3</dd>
<dd>
MDM 2.1</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000020">Deprecated:</a></b></dt><dd>API level 35</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000021">Deprecated:</a></b></dt><dd>Knox 3.8</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a86eefbec946d605470af069999763f74" title="Returns an instance of a RemoteDesktop client.">getInstance()</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#ae9a1e6863bfc2affad4462bc0a29914a" title="API to get Frame Buffer&#39;s Resolution/PixelFormat information.">getScreenInfo(int*, int*, int*, int*)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a57d5432823adfd7cfb72441469ccc98e" title="API to get Frame Buffer Information.">getFrameBufInfo(int *, FDType *)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#af22e75002f52d837cfc9d9589647ddb9" title="API to register Screen Event listener.">setListener(IRemoteDesktopListener*)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a0ab5a0cf162a91c5e69abeed90f8ba09" title="API to capture the screen.">captureScreen(DirtyRegion&amp;)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a832ccdcdd8a6d30121d7c5298df08708"></a><!-- doxytag: member="knoxremotedesktop::IRemoteDesktop::setDexScreenInfo" ref="a832ccdcdd8a6d30121d7c5298df08708" args="(int prefW, int prefH)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a832ccdcdd8a6d30121d7c5298df08708">knoxremotedesktop::IRemoteDesktop::setDexScreenInfo</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prefW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prefH</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to set Dex screen framebuffer's width and height by the admin. </p>
<p>Admin can use this API to set the preference for the remote capture of Dex screen dimensions considering the different factors like network bandwidth usage and performance. This may or may not be honoured based on the platform support. This API creates a separate frame buffer for Dex screen capture.</p>
<p>Example client call:</p>
<pre>
  int w = 640, h = 360;
  <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();
  bool ret = remoteDesktop-&gt;<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a>;
  // Dex state change callback received
  int hwwidth, hwheight, hwbytesPerPixel;	
  int res = remotedesktop-&gt;getDefaultDexScreenInfo(&amp;hwwidth, &amp;hwheight, &amp;hwbytesPerPixel);
  ret = remoteDesktop-&gt;setDexScreenInfo(w,h);
 </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the "com.samsung.android.knox.permission.KNOX_ADVANCED_RESTRICTION" permission which has a protection level of signature.</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">prefW</td><td>Preferred Screen Width of Dex screen </td></tr>
    <tr><td class="paramname">prefH</td><td>Preferred Screen Height of Dex screen.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if intended operation is successful </dd>
<dd>
<code>false</code> multiple cases like Dex is not connected, invalid parameter value, permission denied, remote session not started or unable to create buffer for Dex screen. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>API level 30 </dd>
<dd>
KNOX 3.4.1 </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000037">Deprecated:</a></b></dt><dd><p class="startdd">API level 35 </p>
<p class="enddd">Knox 3.8 </p>
</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#afd74363dbd7affbbdae3f5118ff5c17c" title="API to get the default Dex screen information.">getDefaultDexScreenInfo(int *hwwidth, int *hwheight, int *hwbytesPerPixel)</a> </dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#abc9e2145cfd61267134b3ecde331f586" title="API to get Dex screen Frame Buffer Information.">getDexBufInfo(int * fdDex)</a> </dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#aaecd5b1a0c8ee18d7c429e3c3f4f026b" title="API to get Dex screen Frame Buffer&#39;s Resolution.">getDexScreenInfo(int *width, int *height, int *bytesPerPixel)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af22e75002f52d837cfc9d9589647ddb9"></a><!-- doxytag: member="knoxremotedesktop::IRemoteDesktop::setListener" ref="af22e75002f52d837cfc9d9589647ddb9" args="(IRemoteDesktopListener *listener)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#af22e75002f52d837cfc9d9589647ddb9">knoxremotedesktop::IRemoteDesktop::setListener</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktopListener.html">IRemoteDesktopListener</a> *&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to register Screen Event listener. </p>
<p>Admin can use this API to get Screen Changed Event Callbacks</p>
<p>from remote desktop module.</p>
<p>Example client call:</p>
<pre></pre><pre>  class RemoteDesktopListener : public <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktopListener.html" title="This class provides the interface to get notified when the screen changes.">IRemoteDesktopListener</a> {</pre><pre>      RemoteDesktopListener() {}</pre><pre>      virtual void screenChanged() {</pre><pre>	        LOGI("RemoteDesktopListener :: screenChanged()");</pre><pre>          // Capture Screen Request code</pre><pre>      }</pre><pre>  }</pre><pre>  ....</pre><pre>  <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();</pre><pre>  bool ret = remoteDesktop-&gt;<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a>;</pre><pre>  if(ret == false)  {</pre><pre>     // failure code</pre><pre>  } else {</pre><pre>     // success code</pre><pre>     <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktopListener.html" title="This class provides the interface to get notified when the screen changes.">IRemoteDesktopListener</a> *remoteDesktoplistener = new RemoteDesktopListener();</pre><pre>     bool err = remoteDesktop-&gt;setListener(remoteDesktoplistener);</pre><pre>     if(err == false)  {</pre><pre>         // failure code</pre><pre>     } else {</pre><pre>         // success code</pre><pre>     }</pre><pre>  }</pre><pre> </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the</dd></dl>
<p>"com.samsung.android.knox.permission.KNOX_REMOTE_CONTROL" permission which has a protection level</p>
<p>of signature.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>Screen Change Event Listener</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if listener is successfully set, else <code>false</code>.</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>API level 3</dd>
<dd>
MDM 2.1</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000026">Deprecated:</a></b></dt><dd>API level 35</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000027">Deprecated:</a></b></dt><dd>Knox 3.8</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a86eefbec946d605470af069999763f74" title="Returns an instance of a RemoteDesktop client.">getInstance()</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a7bed40d98c61713a69cf1dad8b37beae" title="API to initialize remote desktop session.">init()</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#ae9a1e6863bfc2affad4462bc0a29914a" title="API to get Frame Buffer&#39;s Resolution/PixelFormat information.">getScreenInfo(int*, int*, int*, int*)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a57d5432823adfd7cfb72441469ccc98e" title="API to get Frame Buffer Information.">getFrameBufInfo(int *, FDType *)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a0ab5a0cf162a91c5e69abeed90f8ba09" title="API to capture the screen.">captureScreen(DirtyRegion&amp;)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aeb13652779ac87ce9de9a8155f6dc60b"></a><!-- doxytag: member="knoxremotedesktop::IRemoteDesktop::setScreenInfo" ref="aeb13652779ac87ce9de9a8155f6dc60b" args="(int prefW, int prefH, int prefFormat)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#aeb13652779ac87ce9de9a8155f6dc60b">knoxremotedesktop::IRemoteDesktop::setScreenInfo</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prefW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prefH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prefFormat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>API to set the framebuffer's width, height and format preferred by the admin. </p>
<p>Admin can use this API to set the preference for the remote screen dimensions considering the</p>
<p>different factors like network bandwidth usage and performance. This may or may not be honoured based</p>
<p>on the platform support. Mostly in case of FB0, this will not be honoured.</p>
<p>Example client call:</p>
<pre></pre><pre>  Note: If user faces problem in starting Remote Session in Landscape mode, then he/she should call 
  and refer getDefaultScreenInfo(&amp;hwwidth,&amp;hwheight,&amp;hwbytesPerPixel,&amp;hwpixelFormat) API about
  hardware width and hardware height before calling setScreenInfo(prefW, prefH, prefFormat) API.</pre><pre>  int w = 360, h = 640, format = PF_RGB_565;</pre><pre>  //Only in case, when user is in Landscape mode and facing problem in starting the Remote Session in Android 10 device
  int w = 640, h = 360, format = PF_RGB_565;</pre><pre>  <a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html" title="Remote Desktop Module provides means by which the admin capture the device screen content...">IRemoteDesktop</a> *remoteDesktop = RemoteDesktop::getInstance();</pre><pre>  int 	 hwwidth, hwheight, hwpixelFormat, hwbytesPerPixel;</pre><pre>  remotedesktop-&gt;getDefaultScreenInfo(&amp;hwwidth, &amp;hwheight, &amp;hwbytesPerPixel, &amp;hwpixelFormat);</pre><pre>  bool ret = remoteDesktop-&gt;setScreenInfo(w,h,format);</pre><pre>  if(ret == false)  { // failure due to either permission</pre><pre>                      // denied or other initialization failures</pre><pre>     // failure code</pre><pre>  } else {</pre><pre>     // success code</pre><pre>  }</pre><pre> </pre><dl class="user"><dt><b>Permission: </b></dt><dd>The use of this API requires the caller to have the</dd></dl>
<p>"com.samsung.android.knox.permission.KNOX_REMOTE_CONTROL" permission which has a protection level</p>
<p>of signature.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">prefW</td><td>Preferred Screen Width</td></tr>
    <tr><td class="paramname">prefH</td><td>Preferred Screen Height</td></tr>
    <tr><td class="paramname">prefFormat</td><td>Preferred Pixel Format</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if success, else <code>false</code>.</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>API level 3</dd>
<dd>
MDM 2.1</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000032">Deprecated:</a></b></dt><dd>API level 35</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000033">Deprecated:</a></b></dt><dd>Knox 3.8</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a86eefbec946d605470af069999763f74" title="Returns an instance of a RemoteDesktop client.">getInstance()</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#ae9a1e6863bfc2affad4462bc0a29914a" title="API to get Frame Buffer&#39;s Resolution/PixelFormat information.">getScreenInfo(int*, int*, int*, int*)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a57d5432823adfd7cfb72441469ccc98e" title="API to get Frame Buffer Information.">getFrameBufInfo(int *, FDType *)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#af22e75002f52d837cfc9d9589647ddb9" title="API to register Screen Event listener.">setListener(IRemoteDesktopListener*)</a></dd>
<dd>
<a class="el" href="classknoxremotedesktop_1_1IRemoteDesktop.html#a0ab5a0cf162a91c5e69abeed90f8ba09" title="API to capture the screen.">captureScreen(DirtyRegion&amp;)</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>remotecontrol/<a class="el" href="RemoteDesktop_8h_source.html">RemoteDesktop.h</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Samsung Electronics. SDK @MDM_VERSION@ - Fri Feb 4 2022 </small></address>

</body>
</html>
